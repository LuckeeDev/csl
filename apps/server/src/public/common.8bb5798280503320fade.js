(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{CAI7:function(e,a,i){"use strict";i.d(a,"a",(function(){return y}));var t=i("DY2v"),o=i("+IuD"),s=i.n(o),n=i("w/LV"),r=i.n(n),l=i("6V5p"),c=i.n(l),d=i("UIvY"),b=i.n(d),u=i("eVdK"),g=i.n(u),m=i("pkNS"),p=i.n(m),h=i("jxfh"),v=i("9ufM"),f=i("YtkY"),k=i("TLy2"),T=i("EM62"),w=i("sEIs"),C=i("Meci"),S=i("PBFl");let y=(()=>{class e{constructor(e,a,i,t,o){this.commissioni=e,this.dialog=a,this.toastr=i,this.auth=t,this.router=o}ngOnInit(){}ngAfterViewInit(){this.auth.user$.pipe(Object(f.a)((e=>this.router.url.includes("rappre")&&e.isRappre?"comitato":this.router.url.includes("referente")?e.isReferente:void 0)),Object(k.a)((e=>(this.commissione=e,this.commissioni.getPage(this.commissione))))).subscribe((e=>{const a=e.data;this.editor=new s.a({holder:"editorjs",data:a.page?a.page:null,tools:{header:{class:r.a,shortcut:"CTRL+ALT+T",inlineToolbar:["bold","italic","hyperlink"],config:{placeholder:"Titolo",levels:[1,2,3],defaultLevel:1}},paragraph:{class:c.a,shortcut:"CTRL+ALT+Q",inlineToolbar:["bold","italic","hyperlink"],config:{placeholder:"Testo"}},list:{class:b.a,shortcut:"CTRL+ALT+W",inlineToolbar:["bold","italic","hyperlink"]},image:{class:g.a,shortcut:"CTRL+ALT+I",inlineToolbar:["bold","italic","hyperlink"],config:{endpoints:{byFile:"/api/articles/image"}}},hyperlink:{class:p.a,config:{availableTargets:["_blank","_self"],availableRels:["external"],target:"_blank",rel:"external"}}},defaultBlock:"paragraph",i18n:{messages:{toolNames:{Text:"Paragrafo",Heading:"Titolo",List:"Elenco",Image:"Immagine",Bold:"Grassetto",Italic:"Corsivo",Hyperlink:"Link"},tools:{list:{Ordered:"Numerato",Unordered:"Non numerato"},image:{"Select an Image":"Carica un'immagine","With border":"Con bordo","Stretch image":"Allarga immagine","With background":"Con sfondo"},link:{"Add a link":"Aggiungi un link"},hyperlink:{Save:"Salva","Select target":"Seleziona destinazione","Select rel":"Seleziona relazione"}},blockTunes:{delete:{Delete:"Elimina"},moveUp:{"Move up":"Sposta su"},moveDown:{"Move down":"Sposta gi\xf9"}},ui:{blockTunes:{toggler:{"Click to tune":"Modifica"}},inlineToolbar:{converter:{"Convert to":"Converti in"}},toolbar:{toolbox:{Add:"Aggiungi"}}}}},autofocus:!0})}))}save(){this.dialog.open({title:"Salvare pagina?",text:"Potrai tornare quando vorrai per modificarla",answer:"Salva",color:"primary"}).subscribe((()=>{this.editor.save().then((e=>{this.commissioni.savePage(this.commissione,e).subscribe((e=>{e.success?this.toastr.show({color:"success",message:"Pagina salvata"}):this.toastr.showError()}))}))}))}}return e.\u0275fac=function(a){return new(a||e)(T.Pb(t.a),T.Pb(h.a),T.Pb(h.b),T.Pb(v.a),T.Pb(w.f))},e.\u0275cmp=T.Jb({type:e,selectors:[["csl-editor"]],decls:9,vars:0,consts:[["id","editorjs"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,a){1&e&&(T.Vb(0,"mat-card"),T.Vb(1,"mat-card-header"),T.Vb(2,"mat-card-title"),T.Fc(3,"Gestisci la pagina della tua Commissione"),T.Ub(),T.Ub(),T.Vb(4,"mat-card-content"),T.Qb(5,"div",0),T.Ub(),T.Vb(6,"mat-card-actions",1),T.Vb(7,"button",2),T.cc("click",(function(){return a.save()})),T.Fc(8," Salva pagina "),T.Ub(),T.Ub(),T.Ub())},directives:[C.a,C.e,C.h,C.d,C.b,S.b],styles:[".actions[_ngcontent-%COMP%]{margin-left:20px;margin-top:10px}"]}),e})()}}]);