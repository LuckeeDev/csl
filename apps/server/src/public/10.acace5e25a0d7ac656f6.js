(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{TmrM:function(t,o,e){"use strict";e.r(o),e.d(o,"RappreModule",(function(){return dt}));var c=e("2kYt"),n=e("sEIs"),r=e("EM62"),i=e("3DyK");let a=(()=>{class t{constructor(){this.links=[{link:".",title:"Home"},{link:"classi",title:"Classi"},{link:"editor",title:"Gestisci pagina"},{link:"gadgets",title:"Gadget"},{link:"photos",title:"Foto"}]}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-rappre"]],decls:3,vars:1,consts:[[3,"links"]],template:function(t,o){1&t&&(r.Vb(0,"csl-dashboard-model",0),r.Vb(1,"span"),r.Fc(2,"Rappre"),r.Ub(),r.Ub()),2&t&&r.mc("links",o.links)},directives:[i.a],styles:[""]}),t})();var s=e("9ufM"),b=e("jxfh"),l=e("SKMG"),m=e("PBFl");let u=(()=>{class t{constructor(t,o){this.dialog=t,this.auth=o}ngOnInit(){}signOut(){this.dialog.open({title:"Sei sicuro di voler uscire?",text:"Ci\xf2 che stavi facendo potrebbe non essere salvato",color:"warn",answer:"S\xec, esci"}).subscribe((t=>{this.auth.signOut()}))}}return t.\u0275fac=function(o){return new(o||t)(r.Pb(b.a),r.Pb(s.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-rappre-home"]],decls:10,vars:3,consts:[[3,"user"],["header",""],["activities-label",""],["activities",""],["mat-raised-button","","color","warn","logout-btn","",3,"click"]],template:function(t,o){1&t&&(r.Vb(0,"csl-dashboard-home",0),r.hc(1,"async"),r.Vb(2,"span",1),r.Fc(3,"I vostri dati"),r.Ub(),r.Vb(4,"span",2),r.Fc(5,"Le vostre attivit\xe0"),r.Ub(),r.Vb(6,"span",3),r.Fc(7,"Questa sezione \xe8 ancora vuota! Tornate pi\xf9 tardi..."),r.Ub(),r.Vb(8,"button",4),r.cc("click",(function(){return o.signOut()})),r.Fc(9,"Esci"),r.Ub(),r.Ub()),2&t&&r.mc("user",r.ic(1,1,o.auth.user$))},directives:[l.a,m.b],pipes:[c.b],styles:[".profileimg[_ngcontent-%COMP%]{height:100%;border-radius:50px}h1[_ngcontent-%COMP%]{font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:20px}button[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var p=e("vobO");let d=(()=>{class t{constructor(t){this.http=t}getGadgets(){return this.http.get("/api/products/gadgets")}getPhotos(){return this.http.get("/api/products/photos")}getProduct(t){return this.http.post("/api/products/find",{id:t})}deleteProduct(t){return this.http.delete("/api/products/"+t)}}return t.\u0275fac=function(o){return new(o||t)(r.Zb(p.b))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=e("YtkY"),f=e("Meci"),h=e("FlRo");function D(t,o){1&t&&(r.Vb(0,"mat-card-title"),r.Fc(1,"Gadget"),r.Ub())}function F(t,o){1&t&&(r.Vb(0,"mat-card-title"),r.Fc(1,"Foto"),r.Ub())}function U(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"ID"),r.Ub())}function V(t,o){if(1&t&&(r.Vb(0,"mat-cell"),r.Fc(1),r.Ub()),2&t){const t=o.$implicit;r.Db(1),r.Gc(t.id)}}function C(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Nome"),r.Ub())}function y(t,o){if(1&t&&(r.Vb(0,"mat-cell"),r.Fc(1),r.Ub()),2&t){const t=o.$implicit;r.Db(1),r.Gc(t.name)}}function v(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Descrizione"),r.Ub())}function P(t,o){if(1&t&&(r.Vb(0,"mat-cell"),r.Fc(1),r.Ub()),2&t){const t=o.$implicit;r.Db(1),r.Gc(t.description)}}function w(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Prezzo"),r.Ub())}function x(t,o){if(1&t&&(r.Vb(0,"mat-cell"),r.Fc(1),r.hc(2,"currency"),r.Ub()),2&t){const t=o.$implicit;r.Db(1),r.Gc(r.jc(2,1,t.price,"EUR"))}}function S(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Taglie"),r.Ub())}function O(t,o){if(1&t&&(r.Tb(0),r.Fc(1),r.Sb()),2&t){const t=o.$implicit;r.Db(1),r.Hc("",t,"; ")}}function k(t,o){if(1&t&&(r.Vb(0,"mat-cell"),r.Dc(1,O,2,1,"ng-container",15),r.Ub()),2&t){const t=o.$implicit;r.Db(1),r.mc("ngForOf",t.sizes)}}function I(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Colori"),r.Ub())}const M=function(t){return{"background-color":t}};function z(t,o){if(1&t&&(r.Tb(0),r.Qb(1,"span",16),r.Sb()),2&t){const t=o.$implicit;r.Db(1),r.mc("ngStyle",r.pc(1,M,t))}}function T(t,o){if(1&t&&(r.Vb(0,"mat-cell"),r.Dc(1,z,2,3,"ng-container",15),r.Ub()),2&t){const t=o.$implicit;r.Db(1),r.mc("ngForOf",t.colors)}}function G(t,o){1&t&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Gestisci"),r.Ub())}function _(t,o){if(1&t){const t=r.Wb();r.Vb(0,"mat-cell"),r.Vb(1,"button",17),r.cc("click",(function(){r.uc(t);const e=o.$implicit;return r.gc().deleteProduct(e.id)})),r.Fc(2," Cancella prodotto "),r.Ub(),r.Ub()}}function N(t,o){1&t&&r.Qb(0,"mat-header-row")}function Q(t,o){1&t&&r.Qb(0,"mat-row")}const $=function(){return["create"]};let j=(()=>{class t{constructor(t,o,e,c){this.productsService=t,this.activated=o,this.dialog=e,this.toastr=c}ngOnInit(){this.activated.paramMap.pipe(Object(g.a)((t=>t.get("category")))).subscribe((t=>{this.category=t,"gadgets"===t?(this.displayedColumns=["id","name","description","price","sizes","colors","options"],this.productsService.getGadgets().subscribe((t=>{this.products=t}))):"photos"===t&&(this.displayedColumns=["id","name","description","price","options"],this.productsService.getPhotos().subscribe((t=>{this.products=t})))}))}deleteProduct(t){this.dialog.open({title:"Sei sicuro di voler eliminare questo prodotto?",text:"Potrai ricrearlo dalla pagina per la creazione dei prodotti",color:"warn",answer:"S\xec, elimina prodotto"}).subscribe((o=>{this.productsService.deleteProduct(t).subscribe((t=>{!0===t.success?(this.toastr.show({message:"Prodotto eliminato",color:"accent",action:"Chiudi",duration:5e3}),"gadgets"===this.category?this.productsService.getGadgets().subscribe((t=>this.products=t)):"photos"===this.category&&this.productsService.getPhotos().subscribe((t=>this.products=t))):!1===t.success&&this.toastr.showError()}))}))}displayColumn(t){return this.displayedColumns.includes(t)}}return t.\u0275fac=function(o){return new(o||t)(r.Pb(d),r.Pb(n.a),r.Pb(b.a),r.Pb(b.b))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-manage-category"]],decls:33,vars:7,consts:[[4,"ngIf","ngIfElse"],["photos",""],[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","sizes"],["matColumnDef","colors"],["matColumnDef","options"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"routerLink"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["mat-button","","color","warn",3,"click"]],template:function(t,o){if(1&t&&(r.Vb(0,"mat-card"),r.Vb(1,"mat-card-header"),r.Dc(2,D,2,0,"mat-card-title",0),r.Dc(3,F,2,0,"ng-template",null,1,r.Ec),r.Ub(),r.Vb(5,"mat-card-content"),r.Vb(6,"mat-table",2),r.Tb(7,3),r.Dc(8,U,2,0,"mat-header-cell",4),r.Dc(9,V,2,1,"mat-cell",5),r.Sb(),r.Tb(10,6),r.Dc(11,C,2,0,"mat-header-cell",4),r.Dc(12,y,2,1,"mat-cell",5),r.Sb(),r.Tb(13,7),r.Dc(14,v,2,0,"mat-header-cell",4),r.Dc(15,P,2,1,"mat-cell",5),r.Sb(),r.Tb(16,8),r.Dc(17,w,2,0,"mat-header-cell",4),r.Dc(18,x,3,4,"mat-cell",5),r.Sb(),r.Tb(19,9),r.Dc(20,S,2,0,"mat-header-cell",4),r.Dc(21,k,2,1,"mat-cell",5),r.Sb(),r.Tb(22,10),r.Dc(23,I,2,0,"mat-header-cell",4),r.Dc(24,T,2,1,"mat-cell",5),r.Sb(),r.Tb(25,11),r.Dc(26,G,2,0,"mat-header-cell",4),r.Dc(27,_,3,0,"mat-cell",5),r.Sb(),r.Dc(28,N,1,0,"mat-header-row",12),r.Dc(29,Q,1,0,"mat-row",13),r.Ub(),r.Ub(),r.Vb(30,"mat-card-actions"),r.Vb(31,"a",14),r.Fc(32," Aggiungi un prodotto "),r.Ub(),r.Ub(),r.Ub()),2&t){const t=r.sc(4);r.Db(2),r.mc("ngIf","gadgets"===o.category)("ngIfElse",t),r.Db(4),r.mc("dataSource",o.products),r.Db(22),r.mc("matHeaderRowDef",o.displayedColumns),r.Db(1),r.mc("matRowDefColumns",o.displayedColumns),r.Db(2),r.mc("routerLink",r.oc(6,$))}},directives:[f.a,f.e,c.m,f.d,h.j,h.c,h.e,h.b,h.g,h.i,f.b,m.a,n.i,f.h,h.d,h.a,c.l,c.n,m.b,h.f,h.h],pipes:[c.d],styles:["table[_ngcontent-%COMP%]{width:100%}mat-card-actions[_ngcontent-%COMP%]{margin-left:20px}span[_ngcontent-%COMP%]{padding:10px 10px 10px 15px;border-radius:5px;margin-right:5px}"]}),t})();var X=e("JCQO"),L=e("nIj0"),R=e("lu7F"),E=e("29Wa"),H=e("Cd2c"),q=e("+Tre"),A=e("Pq5H");let J=(()=>{class t{transform(t,...o){return t.replace(/ /g,"-").toLowerCase()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=r.Ob({name:"productId",type:t,pure:!0}),t})();function W(t,o){if(1&t&&(r.Vb(0,"mat-checkbox",19),r.Fc(1),r.Ub()),2&t){const t=o.$implicit;r.nc("formControlName",t),r.Db(1),r.Gc(t)}}function Y(t,o){if(1&t&&(r.Tb(0,16),r.Qb(1,"br"),r.Vb(2,"h4"),r.Fc(3,"Taglie disponibili"),r.Ub(),r.Vb(4,"div",17),r.Dc(5,W,2,2,"mat-checkbox",18),r.Ub(),r.Sb()),2&t){const t=r.gc();r.Db(5),r.mc("ngForOf",t.sizes)}}function B(t,o){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"mat-form-field"),r.Qb(2,"input",22),r.Ub(),r.Vb(3,"button",23),r.cc("click",(function(){r.uc(t);const e=o.index;return r.gc(2).removeColor(e)})),r.Qb(4,"fa-icon",24),r.Ub(),r.Sb()}if(2&t){const t=o.index,e=r.gc(2);r.Db(2),r.mc("formControlName",t),r.Db(2),r.mc("icon",e.faTimes)}}function K(t,o){if(1&t){const t=r.Wb();r.Tb(0,20),r.Qb(1,"br"),r.Vb(2,"h4"),r.Fc(3,"Colori disponibili"),r.Ub(),r.Vb(4,"button",21),r.cc("click",(function(){return r.uc(t),r.gc().addColor()})),r.Fc(5," Aggiungi un colore "),r.Ub(),r.Qb(6,"div",11),r.Dc(7,B,5,2,"ng-container",14),r.Sb()}if(2&t){const t=r.gc();r.Db(7),r.mc("ngForOf",t.colors.controls)}}function Z(t,o){if(1&t&&(r.Tb(0),r.Fc(1),r.Sb()),2&t){const t=r.gc().$implicit;r.Db(1),r.Hc(" ",t,",\xa0 ")}}function tt(t,o){if(1&t&&(r.Tb(0),r.Dc(1,Z,2,1,"ng-container",13),r.Sb()),2&t){const t=o.$implicit,e=r.gc(2);r.Db(1),r.mc("ngIf",!0===e.productForm.value.sizes[t])}}function ot(t,o){if(1&t&&(r.Vb(0,"tr"),r.Vb(1,"th"),r.Fc(2,"Taglie:"),r.Ub(),r.Vb(3,"td"),r.Dc(4,tt,2,1,"ng-container",14),r.Ub(),r.Ub()),2&t){const t=r.gc();r.Db(4),r.mc("ngForOf",t.sizes)}}const et=function(t){return{"background-color":t}};function ct(t,o){1&t&&r.Qb(0,"span",26),2&t&&r.mc("ngStyle",r.pc(1,et,o.$implicit))}function nt(t,o){if(1&t&&(r.Vb(0,"tr"),r.Vb(1,"th"),r.Fc(2,"Colori:"),r.Ub(),r.Vb(3,"td"),r.Dc(4,ct,1,3,"span",25),r.Ub(),r.Ub()),2&t){const t=r.gc();r.Db(4),r.mc("ngForOf",t.productForm.value.colors)}}function rt(t,o){if(1&t&&(r.Tb(0),r.Fc(1),r.Sb()),2&t){const t=o.$implicit;r.Db(1),r.Hc("",t.name,",\xa0 ")}}let it=(()=>{class t{constructor(t,o,e,c,n,r){this.upload=t,this.dialog=o,this.activated=e,this.fb=c,this.toastr=n,this.router=r,this.faTimes=R.b,this.sizes=["XXS","XS","S","M","L","XL","XXL"],this.productForm=this.fb.group({name:["",L.u.required],description:[""],price:["",L.u.required],files:["",L.u.required]}),this.category=this.activated.snapshot.paramMap.get("category"),"gadgets"===this.category&&(this.productForm.addControl("colors",this.fb.array([])),this.productForm.addControl("sizes",this.fb.group({XXS:[!1],XS:[!1],S:[!1],M:[!1],L:[!1],XL:[!1],XXL:[!1]},[L.u.required])))}ngOnInit(){}get colors(){return this.productForm.get("colors")}addColor(){this.colors.push(this.fb.control("#000000"))}removeColor(t){this.colors.removeAt(t)}onSubmit(){this.dialog.open({title:"Confermare la creazione del prodotto?",text:"Non potrai modificarlo in seguito",color:"primary",answer:"S\xec, conferma"}).subscribe((t=>{this.upload.productUpload(this.productForm.value,this.category,(t=>{this.upload.working=!1,this.upload.imgFiles=[],this.upload.readyToUploadImages=!1,this.router.navigate(["rappre",this.category]),this.toastr.show({message:"Prodotto creato con successo",color:"success",action:"Chiudi",duration:5e3})}))}))}}return t.\u0275fac=function(o){return new(o||t)(r.Pb(X.a),r.Pb(b.a),r.Pb(n.a),r.Pb(L.d),r.Pb(b.b),r.Pb(n.f))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-create-product"]],decls:65,vars:16,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"textinput"],["matInput","","type","text","formControlName","name"],["align","start"],["matInput","","type","text","formControlName","description"],["matInput","","type","number","formControlName","price"],["formGroupName","sizes",4,"ngIf"],["formArrayName","colors",4,"ngIf"],["type","file","multiple","true","formControlName","files",2,"display","none",3,"change"],["uploadFiles",""],["mat-stroked-button","","type","button","color","primary","size","small",3,"click"],[1,"break"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["formGroupName","sizes"],[1,"checkboxes"],["color","primary",3,"formControlName",4,"ngFor","ngForOf"],["color","primary",3,"formControlName"],["formArrayName","colors"],["mat-button","","type","button","color","primary",3,"click"],["matInput","","type","color",1,"colorInput",3,"formControlName"],["mat-icon-button","","color","warn","type","button",1,"deleteColor",3,"click"],[3,"icon"],["class","color",3,"ngStyle",4,"ngFor","ngForOf"],[1,"color",3,"ngStyle"]],template:function(t,o){if(1&t){const t=r.Wb();r.Vb(0,"form",0),r.cc("ngSubmit",(function(){return o.onSubmit()})),r.Vb(1,"h4"),r.Fc(2,"Informazioni principali"),r.Ub(),r.Vb(3,"mat-form-field",1),r.Vb(4,"mat-label"),r.Fc(5,"Nome del prodotto"),r.Ub(),r.Qb(6,"input",2),r.Vb(7,"mat-hint",3),r.Vb(8,"strong"),r.Fc(9,"Assicurati di non aver mai usato questo nome"),r.Ub(),r.Ub(),r.Ub(),r.Vb(10,"mat-form-field",1),r.Vb(11,"mat-label"),r.Fc(12,"Descrizione del prodotto"),r.Ub(),r.Qb(13,"input",4),r.Ub(),r.Vb(14,"mat-form-field",1),r.Vb(15,"mat-label"),r.Fc(16,"Prezzo"),r.Ub(),r.Qb(17,"input",5),r.Ub(),r.Dc(18,Y,6,1,"ng-container",6),r.Dc(19,K,8,1,"ng-container",7),r.Qb(20,"br"),r.Vb(21,"h4"),r.Fc(22,"Immagini"),r.Ub(),r.Vb(23,"input",8,9),r.cc("change",(function(t){return o.upload.onImgSelect(t)})),r.Ub(),r.Vb(25,"button",10),r.cc("click",(function(){return r.uc(t),r.sc(24).click()})),r.Fc(26," Carica "),r.Ub(),r.Qb(27,"div",11),r.Vb(28,"mat-card"),r.Vb(29,"mat-card-header"),r.Vb(30,"mat-card-title"),r.Fc(31," Riepilogo "),r.Ub(),r.Ub(),r.Vb(32,"mat-card-content"),r.Vb(33,"table",12),r.Vb(34,"tr"),r.Vb(35,"th"),r.Fc(36,"ID:"),r.Ub(),r.Vb(37,"td"),r.Fc(38),r.hc(39,"productId"),r.Ub(),r.Ub(),r.Vb(40,"tr"),r.Vb(41,"th"),r.Fc(42,"Nome:"),r.Ub(),r.Vb(43,"td"),r.Fc(44),r.Ub(),r.Ub(),r.Vb(45,"tr"),r.Vb(46,"th"),r.Fc(47,"Descrizione:"),r.Ub(),r.Vb(48,"td"),r.Fc(49),r.Ub(),r.Ub(),r.Vb(50,"tr"),r.Vb(51,"th"),r.Fc(52,"Prezzo:"),r.Ub(),r.Vb(53,"td"),r.Fc(54),r.hc(55,"currency"),r.Ub(),r.Ub(),r.Dc(56,ot,5,1,"tr",13),r.Dc(57,nt,5,1,"tr",13),r.Vb(58,"tr"),r.Vb(59,"th"),r.Fc(60,"Immagini:"),r.Ub(),r.Vb(61,"td"),r.Dc(62,rt,2,1,"ng-container",14),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(63,"button",15),r.Fc(64," Crea prodotto "),r.Ub(),r.Ub()}2&t&&(r.mc("formGroup",o.productForm),r.Db(18),r.mc("ngIf","gadgets"===o.category),r.Db(1),r.mc("ngIf","gadgets"===o.category),r.Db(19),r.Gc(r.ic(39,11,o.productForm.value.name)),r.Db(6),r.Gc(o.productForm.value.name),r.Db(5),r.Gc(o.productForm.value.description),r.Db(5),r.Gc(r.jc(55,13,o.productForm.value.price,"EUR")),r.Db(2),r.mc("ngIf","gadgets"===o.category),r.Db(1),r.mc("ngIf","gadgets"===o.category),r.Db(5),r.mc("ngForOf",o.upload.imgFiles),r.Db(1),r.mc("disabled",!o.productForm.valid))},directives:[L.v,L.p,L.i,E.b,E.f,H.a,L.b,L.o,L.g,E.e,L.r,c.m,m.b,f.a,f.e,f.h,f.d,c.l,L.j,q.a,L.c,A.a,c.n],pipes:[J,c.d],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.break[_ngcontent-%COMP%]{flex-basis:100%;height:0}h4[_ngcontent-%COMP%]{font-weight:500;flex:100%}.textinput[_ngcontent-%COMP%]{margin-right:10%;width:20%;min-width:180px}.checkboxes[_ngcontent-%COMP%], .textinput[_ngcontent-%COMP%]{margin-bottom:20px}mat-checkbox[_ngcontent-%COMP%]{margin-right:10px}button[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin-bottom:20px}mat-card[_ngcontent-%COMP%]{flex:100%}table[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}tr[_ngcontent-%COMP%]{flex-basis:100%}.color[_ngcontent-%COMP%]{padding:5px 5px 5px 15px;border-radius:5px;margin-right:5px}"]}),t})();var at=e("r8jD"),st=e("8BM3"),bt=e("CAI7");const lt=[{path:"",component:a,children:[{path:"",component:u},{path:"classi",component:at.a},{path:"classi/:classID",component:st.a},{path:"editor",component:bt.a},{path:":category",component:j},{path:":category/create",component:it}]}];let mt=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(o){return new(o||t)},imports:[[n.j.forChild(lt)],n.j]}),t})();var ut=e("PCNd"),pt=e("vrzs");let dt=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(o){return new(o||t)},imports:[[c.c,mt,L.k,L.s,ut.a,b.c,pt.a]]}),t})()}}]);