(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jkDv:function(t,e,c){"use strict";c.r(e),c.d(e,"AdminModule",(function(){return Ut}));var i=c("2kYt"),n=c("nIj0"),o=c("sEIs"),a=c("EM62"),s=c("3DyK");let r=(()=>{class t{constructor(){this.links=[{link:".",title:"Home"},{link:"classi",title:"Classi"},{link:"accounts",title:"Account"},{link:"commissioni",title:"Commissioni"},{link:"csv",title:"CSV"},{link:"reports",title:"Segnalazioni"},{link:"errors",title:"Errori"},{link:"events",title:"Eventi"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Jb({type:t,selectors:[["csl-admin"]],decls:3,vars:1,consts:[[3,"links"]],template:function(t,e){1&t&&(a.Vb(0,"csl-dashboard-model",0),a.Vb(1,"span"),a.Fc(2,"Admin"),a.Ub(),a.Ub()),2&t&&a.mc("links",e.links)},directives:[s.a],styles:[""]}),t})();var m=c("9ufM"),l=c("jxfh"),b=c("SKMG"),u=c("PBFl");let d=(()=>{class t{constructor(t,e){this.auth=t,this.dialog=e}ngOnInit(){}signOut(){this.dialog.open({title:"Sei sicuro di voler uscire?",text:"Ci\xf2 che stavi facendo potrebbe non essere salvato",color:"warn",answer:"S\xec, esci"}).subscribe((t=>{this.auth.signOut()}))}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(m.a),a.Pb(l.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-admin-home"]],decls:10,vars:3,consts:[[3,"user"],["header",""],["activities-label",""],["activities",""],["mat-raised-button","","color","warn","logout-btn","",3,"click"]],template:function(t,e){1&t&&(a.Vb(0,"csl-dashboard-home",0),a.hc(1,"async"),a.Vb(2,"span",1),a.Fc(3,"I tuoi dati"),a.Ub(),a.Vb(4,"span",2),a.Fc(5,"Le tue attivit\xe0"),a.Ub(),a.Vb(6,"span",3),a.Fc(7,"Ciao Luca! Cosa vuoi fare oggi?"),a.Ub(),a.Vb(8,"button",4),a.cc("click",(function(){return e.signOut()})),a.Fc(9,"Esci"),a.Ub(),a.Ub()),2&t&&a.mc("user",a.ic(1,1,e.auth.user$))},directives:[b.a,u.b],pipes:[i.b],styles:[""]}),t})();var p=c("vobO");let f=(()=>{class t{constructor(t){this.http=t}createAccount(t){return this.http.post("/api/admin/accounts",{account:t})}removeAccount(t){return this.http.delete("/api/admin/accounts/"+t)}getErrors(){return this.http.get("/api/admin/errors")}getEvents(){return this.http.get("/api/admin/events")}getCommissioni(){return this.http.get("/api/admin/commissioni")}createCommissione(t){return this.http.post("/api/admin/commissioni",{commissione:t})}removeCommissione(t){return this.http.delete("/api/admin/commissioni/"+t)}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(p.b))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})();var g=c("TLy2"),h=c("SG15"),v=c("29Wa"),D=c("Cd2c");let V=(()=>{class t{constructor(t,e,c){this.dialog=t,this.admin=e,this.toastr=c,this.accountForm=new n.h({email:new n.e("",[n.u.required,n.u.email]),firstName:new n.e("",n.u.required),lastName:new n.e("",n.u.required),classID:new n.e("",[n.u.required,h.a])}),this.removeEmail=new n.e("",[n.u.required,n.u.email])}ngOnInit(){}createAccount(t){this.dialog.open({title:"Aggiungere account?",text:"Verr\xe0 aggiunto un account associato alla mail "+this.accountForm.value.email,color:"primary",answer:"Aggiungi"}).pipe(Object(g.a)((()=>this.admin.createAccount(this.accountForm.value)))).subscribe((e=>{e.success?(this.toastr.show({message:"Account creato",color:"success"}),t.resetForm(),this.accountForm.reset()):e.success&&this.toastr.showError()}))}removeAccount(){this.dialog.open({title:"Rimuovere account?",text:`L'account associato alla mail ${this.removeEmail.value} sar\xe0 eliminato e con esso tutti i suoi dati`,color:"accent",answer:"S\xec, rimuovi"}).subscribe((()=>{this.admin.removeAccount(this.removeEmail.value).subscribe((t=>{t.success?this.toastr.show({message:"Account rimosso",color:"accent"}):t.success&&this.toastr.showError(),this.removeEmail.reset()}))}))}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(l.a),a.Pb(f),a.Pb(l.b))},t.\u0275cmp=a.Jb({type:t,selectors:[["csl-accounts"]],decls:29,vars:4,consts:[[1,"container",3,"formGroup","ngSubmit"],["formElement","ngForm"],[1,"form-field","email-input"],["matInput","","type","text","formControlName","email"],[1,"form-field"],["matInput","","type","text","formControlName","firstName"],["matInput","","type","text","formControlName","lastName"],["matInput","","type","text","formControlName","classID"],[1,"submit-btn"],["mat-raised-button","","color","primary",3,"disabled"],[1,"secondForm"],[1,"email-input"],["matInput","","type","text",3,"formControl"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(t,e){if(1&t){const t=a.Wb();a.Vb(0,"form",0,1),a.cc("ngSubmit",(function(){a.uc(t);const c=a.sc(1);return e.createAccount(c)})),a.Vb(2,"mat-form-field",2),a.Vb(3,"mat-label"),a.Fc(4,"Email"),a.Ub(),a.Qb(5,"input",3),a.Ub(),a.Vb(6,"mat-form-field",4),a.Vb(7,"mat-label"),a.Fc(8,"Nome"),a.Ub(),a.Qb(9,"input",5),a.Ub(),a.Vb(10,"mat-form-field",4),a.Vb(11,"mat-label"),a.Fc(12,"Cognome"),a.Ub(),a.Qb(13,"input",6),a.Ub(),a.Vb(14,"mat-form-field",4),a.Vb(15,"mat-label"),a.Fc(16,"Classe"),a.Ub(),a.Qb(17,"input",7),a.Ub(),a.Vb(18,"div",8),a.Vb(19,"button",9),a.Fc(20," Aggiungi account "),a.Ub(),a.Ub(),a.Ub(),a.Vb(21,"div",10),a.Vb(22,"mat-form-field",11),a.Vb(23,"mat-label"),a.Fc(24,"Email"),a.Ub(),a.Qb(25,"input",12),a.Ub(),a.Qb(26,"br"),a.Vb(27,"button",13),a.cc("click",(function(){return e.removeAccount()})),a.Fc(28," Rimuovi account "),a.Ub(),a.Ub()}2&t&&(a.mc("formGroup",e.accountForm),a.Db(19),a.mc("disabled",e.accountForm.invalid),a.Db(6),a.mc("formControl",e.removeEmail),a.Db(2),a.mc("disabled",e.removeEmail.invalid))},directives:[n.v,n.p,n.i,v.b,v.f,D.a,n.b,n.o,n.g,u.b,n.f],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form-field[_ngcontent-%COMP%]{margin-right:20px}.submit-btn[_ngcontent-%COMP%]{flex:100%}.email-input[_ngcontent-%COMP%]{width:300px}.secondForm[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var U=c("PtQB"),w=c("KZIX"),C=c("f3iV"),F=c("Meci"),y=c("+Tre"),x=c("Rjd2");function P(t,e){if(1&t&&(a.Vb(0,"span",5),a.Fc(1," Problemi tecnici "),a.Ub()),2&t){const t=a.gc();a.nc("matBadge",t.unsolved("technical"))}}function I(t,e){if(1&t){const t=a.Wb();a.Vb(0,"mat-card",8),a.Vb(1,"mat-card-header"),a.Vb(2,"mat-card-title"),a.Fc(3),a.Ub(),a.Vb(4,"mat-card-subtitle"),a.Fc(5),a.hc(6,"date"),a.Ub(),a.Vb(7,"mat-checkbox",9),a.cc("change",(function(c){a.uc(t);const i=e.$implicit;return a.gc(2).toggleSolved(c,i.id)})),a.Ub(),a.Ub(),a.Vb(8,"mat-card-content"),a.Vb(9,"h3"),a.Fc(10,"Descrizione"),a.Ub(),a.Vb(11,"p"),a.Fc(12),a.Ub(),a.Vb(13,"h3"),a.Fc(14,"Contesto"),a.Ub(),a.Vb(15,"p"),a.Fc(16),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=e.$implicit;a.Db(3),a.Jc(" ",t.firstName," ",t.lastName," - ",t.classID," "),a.Db(2),a.Hc(" ",a.jc(6,7,t.date,"dd - MM - yy")," "),a.Db(2),a.mc("checked",t.solved),a.Db(5),a.Gc(t.bug.description),a.Db(4),a.Gc(t.bug.context)}}function E(t,e){if(1&t&&(a.Vb(0,"div",6),a.Dc(1,I,17,10,"mat-card",7),a.Ub()),2&t){const t=a.gc();a.Db(1),a.mc("ngForOf",t.technical)}}function S(t,e){1&t&&(a.Vb(0,"div",10),a.Vb(1,"csl-alert",11),a.Fc(2,"Nessun problema tecnico segnalato!"),a.Ub(),a.Ub())}function O(t,e){if(1&t&&(a.Vb(0,"span",5),a.Fc(1," Bug visivi "),a.Ub()),2&t){const t=a.gc();a.nc("matBadge",t.unsolved("visual"))}}function k(t,e){if(1&t){const t=a.Wb();a.Vb(0,"mat-card",8),a.Vb(1,"mat-card-header"),a.Vb(2,"mat-card-title"),a.Fc(3),a.Ub(),a.Vb(4,"mat-card-subtitle"),a.Fc(5),a.hc(6,"date"),a.Ub(),a.Vb(7,"mat-checkbox",9),a.cc("change",(function(c){a.uc(t);const i=e.$implicit;return a.gc(2).toggleSolved(c,i.id)})),a.Ub(),a.Ub(),a.Vb(8,"mat-card-content"),a.Vb(9,"h3"),a.Fc(10,"Descrizione"),a.Ub(),a.Vb(11,"p"),a.Fc(12),a.Ub(),a.Vb(13,"h3"),a.Fc(14,"Contesto"),a.Ub(),a.Vb(15,"p"),a.Fc(16),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=e.$implicit;a.Db(3),a.Jc(" ",t.firstName," ",t.lastName," - ",t.classID," "),a.Db(2),a.Hc(" ",a.jc(6,7,t.date,"dd - MM - yy")," "),a.Db(2),a.mc("checked",t.solved),a.Db(5),a.Gc(t.bug.description),a.Db(4),a.Gc(t.bug.context)}}function M(t,e){if(1&t&&(a.Vb(0,"div",6),a.Dc(1,k,17,10,"mat-card",7),a.Ub()),2&t){const t=a.gc();a.Db(1),a.mc("ngForOf",t.visual)}}function N(t,e){1&t&&(a.Vb(0,"div",10),a.Vb(1,"csl-alert",11),a.Fc(2,"Nessun bug visivo segnalato!"),a.Ub(),a.Ub())}function A(t,e){if(1&t&&(a.Vb(0,"span",5),a.Fc(1," Altro "),a.Ub()),2&t){const t=a.gc();a.nc("matBadge",t.unsolved("other"))}}function j(t,e){if(1&t){const t=a.Wb();a.Vb(0,"mat-card",8),a.Vb(1,"mat-card-header"),a.Vb(2,"mat-card-title"),a.Fc(3),a.Ub(),a.Vb(4,"mat-card-subtitle"),a.Fc(5),a.hc(6,"date"),a.Ub(),a.Vb(7,"mat-checkbox",9),a.cc("change",(function(c){a.uc(t);const i=e.$implicit;return a.gc(2).toggleSolved(c,i.id)})),a.Ub(),a.Ub(),a.Vb(8,"mat-card-content"),a.Vb(9,"h3"),a.Fc(10,"Descrizione"),a.Ub(),a.Vb(11,"p"),a.Fc(12),a.Ub(),a.Vb(13,"h3"),a.Fc(14,"Contesto"),a.Ub(),a.Vb(15,"p"),a.Fc(16),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=e.$implicit;a.Db(3),a.Jc(" ",t.firstName," ",t.lastName," - ",t.classID," "),a.Db(2),a.Hc(" ",a.jc(6,7,t.date,"dd - MM - yy")," "),a.Db(2),a.mc("checked",t.solved),a.Db(5),a.Gc(t.bug.description),a.Db(4),a.Gc(t.bug.context)}}function R(t,e){if(1&t&&(a.Vb(0,"div",6),a.Dc(1,j,17,10,"mat-card",7),a.Ub()),2&t){const t=a.gc();a.Db(1),a.mc("ngForOf",t.other)}}function T(t,e){1&t&&(a.Vb(0,"div",10),a.Vb(1,"csl-alert",11),a.Fc(2,"Nessun altro problema segnalato!"),a.Ub(),a.Ub())}let _=(()=>{class t{constructor(t,e){this.reports=t,this.toastr=e}ngOnInit(){this.updateReports()}updateReports(){this.reports.getReports().subscribe((t=>{this.technical=t.data.filter((t=>"Tecnico"===t.bug.category)),this.visual=t.data.filter((t=>"Visivo"===t.bug.category)),this.other=t.data.filter((t=>"Altro"===t.bug.category))}))}toggleSolved(t,e){this.reports.toggleSolved(e,t.checked).subscribe((t=>{t.success?(this.toastr.show({color:"basic",message:"Stato della segnalazione modificato"}),this.updateReports()):this.toastr.showError()}))}unsolved(t){let e;return e=this[t]?this[t].filter((t=>!1===t.solved)).length:0,0===e?null:e}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(U.a),a.Pb(l.b))},t.\u0275cmp=a.Jb({type:t,selectors:[["csl-reports"]],decls:16,vars:6,consts:[["mat-tab-label",""],["class","card-container",4,"ngIf","ngIfElse"],["noTechnical",""],["noVisual",""],["noOther",""],["matBadgeOverlap","false","matBadgeColor","accent",3,"matBadge"],[1,"card-container"],["class","report",4,"ngFor","ngForOf"],[1,"report"],["color","primary",1,"toggle-solved",3,"checked","change"],[1,"alert-container"],["color","success"]],template:function(t,e){if(1&t&&(a.Vb(0,"mat-tab-group"),a.Vb(1,"mat-tab"),a.Dc(2,P,2,1,"ng-template",0),a.Dc(3,E,2,1,"div",1),a.Dc(4,S,3,0,"ng-template",null,2,a.Ec),a.Ub(),a.Vb(6,"mat-tab"),a.Dc(7,O,2,1,"ng-template",0),a.Dc(8,M,2,1,"div",1),a.Dc(9,N,3,0,"ng-template",null,3,a.Ec),a.Ub(),a.Vb(11,"mat-tab"),a.Dc(12,A,2,1,"ng-template",0),a.Dc(13,R,2,1,"div",1),a.Dc(14,T,3,0,"ng-template",null,4,a.Ec),a.Ub(),a.Ub()),2&t){const t=a.sc(5),c=a.sc(10),i=a.sc(15);a.Db(3),a.mc("ngIf",e.technical&&e.technical.length>0)("ngIfElse",t),a.Db(5),a.mc("ngIf",e.visual&&e.visual.length>0)("ngIfElse",c),a.Db(5),a.mc("ngIf",e.other&&e.other.length>0)("ngIfElse",i)}},directives:[w.b,w.a,w.c,i.m,C.a,i.l,F.a,F.e,F.h,F.g,y.a,F.d,x.a],pipes:[i.f],styles:["h3[_ngcontent-%COMP%]{font-weight:500}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:20px}.report[_ngcontent-%COMP%]{max-width:500px;width:25%;margin-right:20px;margin-bottom:20px}.alert-container[_ngcontent-%COMP%]{margin-top:20px}.toggle-solved[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}"]}),t})();var H=c("FlRo"),$=c("iAde");function Q(t,e){1&t&&(a.Vb(0,"th",8),a.Fc(1,"Timestamp"),a.Ub())}function G(t,e){if(1&t&&(a.Vb(0,"td",9),a.Fc(1),a.hc(2,"date"),a.Ub()),2&t){const t=e.$implicit;a.Db(1),a.Hc(" ",a.jc(2,1,t.timestamp,"[dd/MM/yy] HH:mm:ss")," ")}}function J(t,e){1&t&&(a.Vb(0,"th",8),a.Fc(1,"Descrizione"),a.Ub())}function z(t,e){if(1&t&&(a.Vb(0,"td",9),a.Fc(1),a.Ub()),2&t){const t=e.$implicit;a.Db(1),a.Gc(t.message)}}function B(t,e){1&t&&a.Qb(0,"tr",10)}function L(t,e){1&t&&a.Qb(0,"tr",11)}const q=function(){return[10,25,100]};let W=(()=>{class t{constructor(t,e){this.admin=t,this.router=e,this.displayedColumns=["time","message"],this.logType=this.router.url.includes("events")?"events":"errors"}ngAfterViewInit(){"events"===this.logType?this.admin.getEvents().subscribe((t=>{this.dataSource=new H.k(t.data.reverse()),this.dataSource.paginator=this.paginator})):"errors"===this.logType&&this.admin.getErrors().subscribe((t=>{this.dataSource=new H.k(t.data.reverse()),this.dataSource.paginator=this.paginator}))}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(f),a.Pb(o.f))},t.\u0275cmp=a.Jb({type:t,selectors:[["csl-logs"]],viewQuery:function(t,e){var c;1&t&&a.Kc($.a,!0),2&t&&a.rc(c=a.dc())&&(e.paginator=c.first)},decls:11,vars:5,consts:[["mat-table","",3,"dataSource"],["matColumnDef","time"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(a.Vb(0,"mat-card"),a.Vb(1,"table",0),a.Tb(2,1),a.Dc(3,Q,2,0,"th",2),a.Dc(4,G,3,4,"td",3),a.Sb(),a.Tb(5,4),a.Dc(6,J,2,0,"th",2),a.Dc(7,z,2,1,"td",3),a.Sb(),a.Dc(8,B,1,0,"tr",5),a.Dc(9,L,1,0,"tr",6),a.Ub(),a.Qb(10,"mat-paginator",7),a.Ub()),2&t&&(a.Db(1),a.mc("dataSource",e.dataSource),a.Db(7),a.mc("matHeaderRowDef",e.displayedColumns),a.Db(1),a.mc("matRowDefColumns",e.displayedColumns),a.Db(1),a.mc("pageSizeOptions",a.oc(4,q)))},directives:[F.a,H.j,H.c,H.e,H.b,H.g,H.i,$.a,H.d,H.a,H.f,H.h],pipes:[i.f],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();var K=c("r8jD"),Y=c("8BM3"),X=c("zlwK"),Z=c("YtkY"),tt=c("bFHC");function et(t,e){1&t&&(a.Vb(0,"mat-header-cell"),a.Fc(1,"ID"),a.Ub())}function ct(t,e){if(1&t&&(a.Vb(0,"mat-cell"),a.Fc(1),a.Ub()),2&t){const t=e.$implicit;a.Db(1),a.Hc(" ",t.id," ")}}function it(t,e){1&t&&(a.Vb(0,"mat-header-cell"),a.Fc(1,"Nome"),a.Ub())}function nt(t,e){if(1&t&&(a.Vb(0,"mat-cell"),a.Fc(1),a.Ub()),2&t){const t=e.$implicit;a.Db(1),a.Hc(" ",t.title," ")}}function ot(t,e){1&t&&(a.Vb(0,"mat-header-cell"),a.Fc(1,"Pagina creata"),a.Ub())}function at(t,e){1&t&&(a.Tb(0),a.Vb(1,"mat-icon",19),a.Fc(2,"done"),a.Ub(),a.Sb())}function st(t,e){1&t&&(a.Vb(0,"mat-icon",20),a.Fc(1,"schedule"),a.Ub())}function rt(t,e){if(1&t&&(a.Vb(0,"mat-cell"),a.Dc(1,at,3,0,"ng-container",0),a.Dc(2,st,2,0,"ng-template",null,18,a.Ec),a.Ub()),2&t){const t=e.$implicit,c=a.sc(3);a.Db(1),a.mc("ngIf",t.page)("ngIfElse",c)}}function mt(t,e){1&t&&(a.Vb(0,"mat-header-cell"),a.Fc(1,"Gestisci"),a.Ub())}function lt(t,e){if(1&t){const t=a.Wb();a.Vb(0,"mat-cell"),a.Vb(1,"button",21),a.cc("click",(function(){a.uc(t);const c=e.$implicit;return a.gc(3).removeCommissione(c.id)})),a.Fc(2," Elimina "),a.Ub(),a.Ub()}}function bt(t,e){1&t&&a.Qb(0,"mat-header-row")}function ut(t,e){1&t&&a.Qb(0,"mat-row")}function dt(t,e){if(1&t&&(a.Vb(0,"mat-card"),a.Vb(1,"mat-table",9),a.Tb(2,10),a.Dc(3,et,2,0,"mat-header-cell",11),a.Dc(4,ct,2,1,"mat-cell",12),a.Sb(),a.Tb(5,13),a.Dc(6,it,2,0,"mat-header-cell",11),a.Dc(7,nt,2,1,"mat-cell",12),a.Sb(),a.Tb(8,14),a.Dc(9,ot,2,0,"mat-header-cell",11),a.Dc(10,rt,4,2,"mat-cell",12),a.Sb(),a.Tb(11,15),a.Dc(12,mt,2,0,"mat-header-cell",11),a.Dc(13,lt,3,0,"mat-cell",12),a.Sb(),a.Dc(14,bt,1,0,"mat-header-row",16),a.Dc(15,ut,1,0,"mat-row",17),a.Ub(),a.Ub()),2&t){const t=a.gc(2);a.Db(1),a.mc("dataSource",t.commissioni),a.Db(13),a.mc("matHeaderRowDef",t.displayedColumns),a.Db(1),a.mc("matRowDefColumns",t.displayedColumns)}}function pt(t,e){if(1&t&&(a.Tb(0),a.Dc(1,dt,16,3,"mat-card",0),a.Sb()),2&t){const t=a.gc(),e=a.sc(3);a.Db(1),a.mc("ngIf",t.commissioni.length>0)("ngIfElse",e)}}function ft(t,e){1&t&&(a.Vb(0,"csl-alert",19),a.Fc(1," Nessuna Commissione trovata! "),a.Ub())}const gt=[{path:"",component:r,children:[{path:"",component:d},{path:"classi",children:[{path:"",component:K.a},{path:":classID",component:Y.a}]},{path:"accounts",component:V},{path:"commissioni",component:(()=>{class t{constructor(t,e,c){this.dialog=t,this.toastr=e,this.admin=c,this.displayedColumns=["id","title","hasPage","manage"],this.commissioneForm=new n.h({id:new n.e("",n.u.required),title:new n.e("",n.u.required)})}ngOnInit(){this.admin.getCommissioni().pipe(Object(Z.a)((t=>t.data))).subscribe((t=>this.commissioni=t))}createCommissione(t){this.dialog.open({title:"Confermi la creazione della Commissione?",answer:"S\xec, conferma",color:"primary",text:"Potrai modificarla in seguito"}).pipe(Object(g.a)((()=>this.admin.createCommissione(this.commissioneForm.value)))).subscribe((e=>{e.success?(this.commissioni=e.data,this.toastr.show({color:"success",message:`Commissione "${this.commissioneForm.value.id}" creata`}),this.commissioneForm.reset(),t.reset()):this.toastr.showError()}))}removeCommissione(t){this.dialog.open({title:"Sei sicuro?",text:"Tutti i dati della Commissione saranno persi",color:"warn",answer:"S\xec, conferma"}).pipe(Object(g.a)((()=>this.admin.removeCommissione(t)))).subscribe((e=>{e.success?(this.commissioni=e.data,this.toastr.show({color:"warn",message:`Commissione "${t}" rimossa`})):this.toastr.showError()}))}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(l.a),a.Pb(l.b),a.Pb(f))},t.\u0275cmp=a.Jb({type:t,selectors:[["csl-commissioni"]],decls:17,vars:4,consts:[[4,"ngIf","ngIfElse"],["noCommissione",""],[1,"form",3,"formGroup","ngSubmit"],["formElement",""],[1,"form-field"],["matInput","","type","text","formControlName","id"],["matInput","","type","text","formControlName","title"],[1,"submit-btn"],["mat-raised-button","","color","primary",3,"disabled"],[1,"table",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","hasPage"],["matColumnDef","manage"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["noPage",""],["color","primary"],["color","accent"],["mat-stroked-button","","color","warn",3,"click"]],template:function(t,e){if(1&t){const t=a.Wb();a.Vb(0,"div"),a.Dc(1,pt,2,2,"ng-container",0),a.Dc(2,ft,2,0,"ng-template",null,1,a.Ec),a.Vb(4,"form",2,3),a.cc("ngSubmit",(function(){a.uc(t);const c=a.sc(5);return e.createCommissione(c)})),a.Vb(6,"mat-form-field",4),a.Vb(7,"mat-label"),a.Fc(8,"ID"),a.Ub(),a.Qb(9,"input",5),a.Ub(),a.Vb(10,"mat-form-field",4),a.Vb(11,"mat-label"),a.Fc(12,"Nome"),a.Ub(),a.Qb(13,"input",6),a.Ub(),a.Vb(14,"div",7),a.Vb(15,"button",8),a.Fc(16," Crea commissione "),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=a.sc(3);a.Db(1),a.mc("ngIf",e.commissioni)("ngIfElse",t),a.Db(3),a.mc("formGroup",e.commissioneForm),a.Db(11),a.mc("disabled",e.commissioneForm.invalid)}},directives:[i.m,n.v,n.p,n.i,v.b,v.f,D.a,n.b,n.o,n.g,u.b,F.a,H.j,H.c,H.e,H.b,H.g,H.i,H.d,H.a,tt.a,H.f,H.h,x.a],styles:[".table[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:20px}.form-field[_ngcontent-%COMP%]{margin-right:20px}.submit-btn[_ngcontent-%COMP%]{flex:100%}.email-input[_ngcontent-%COMP%]{width:300px}.secondForm[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()},{path:"csv",component:X.a},{path:"reports",component:_},{path:"errors",component:W},{path:"events",component:W}]}];let ht=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(gt)],o.j]}),t})();var vt=c("PCNd");let Dt=(()=>{class t extends $.b{constructor(){super(...arguments),this.itemsPerPageLabel="Elementi per pagina",this.nextPageLabel="Pagina successiva",this.previousPageLabel="Pagina precedente",this.getRangeLabel=function(t,e,c){if(0===c||0===e)return"0 di "+c;const i=t*e;return i+1+" - "+(i<(c=Math.max(c,0))?Math.min(i+e,c):i+e)+" di "+c}}}return t.\u0275fac=function(e){return Vt(e||t)},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})();const Vt=a.Xb(Dt);let Ut=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},providers:[f,{provide:$.b,useClass:Dt}],imports:[[i.c,n.k,n.s,ht,l.c,vt.a]]}),t})()}}]);