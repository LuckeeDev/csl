(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8BM3":function(t,e,o){"use strict";o.d(e,"a",(function(){return Q}));var c=o("D57K"),i=o("nIj0"),n=o("IdLP"),r=o("YtkY"),a=o("J+dc"),s=o("yDe4"),l=o("oIO+"),b=o("EM62"),m=o("sEIs"),u=o("fPML"),d=o("jxfh"),p=o("9ufM"),f=o("2kYt"),g=o("Meci"),h=o("FlRo"),D=o("29Wa"),C=o("S17y"),F=o("ulve"),U=o("bFHC"),V=o("mFH5"),v=o("PBFl"),y=o("Rjd2");const w=["roleInput"],I=["auto"];function R(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Email"),b.Ub())}function P(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(t.email)}}function O(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Ruoli"),b.Ub())}function S(t,e){if(1&t){const t=b.Wb();b.Vb(0,"mat-chip",21),b.cc("removed",(function(){b.uc(t);const o=e.$implicit,c=b.gc().$implicit;return b.gc(2).remove(o.role,c.email)})),b.Fc(1),b.Vb(2,"mat-icon",22),b.Fc(3,"cancel"),b.Ub(),b.Ub()}if(2&t){const t=e.$implicit;b.mc("selectable",!0)("removable",!0),b.Db(1),b.Hc(" ",t.description," ")}}function x(t,e){if(1&t&&(b.Vb(0,"mat-option",23),b.Fc(1),b.Ub()),2&t){const t=e.$implicit;b.mc("value",t.description),b.Db(1),b.Hc(" ",t.description," ")}}function M(t,e){if(1&t){const t=b.Wb();b.Vb(0,"mat-cell"),b.Vb(1,"mat-form-field",12),b.Vb(2,"mat-chip-list",13,14),b.Dc(4,S,4,3,"mat-chip",15),b.Qb(5,"input",16,17),b.Ub(),b.Vb(7,"mat-autocomplete",18,19),b.cc("optionSelected",(function(o){b.uc(t);const c=e.$implicit;return b.gc(2).selected(o,c.email,c.roles)})),b.Dc(9,x,2,2,"mat-option",20),b.hc(10,"async"),b.Ub(),b.Ub(),b.Ub()}if(2&t){const t=e.$implicit,o=b.sc(3),c=b.sc(8),i=b.gc(2);b.Db(4),b.mc("ngForOf",t.roles),b.Db(1),b.mc("formControl",i.roleCtrl)("matAutocomplete",c)("matChipInputFor",o),b.Db(4),b.mc("ngForOf",b.ic(10,5,i.filteredRoles))}}function k(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Credito"),b.Ub())}function _(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.hc(2,"currency"),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(b.jc(2,1,t.snackCredit,"EUR"))}}function T(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Gestisci"),b.Ub())}function $(t,e){1&t&&(b.Vb(0,"mat-cell"),b.Vb(1,"button",24),b.Fc(2," Aggiungi credito "),b.Ub(),b.Ub())}function G(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Gestisci"),b.Ub())}function E(t,e){if(1&t){const t=b.Wb();b.Vb(0,"mat-cell"),b.Vb(1,"button",25),b.cc("click",(function(){b.uc(t);const o=e.$implicit;return b.gc(2).removeAccount(o.email)})),b.Fc(2," Elimina "),b.Ub(),b.Ub()}}function j(t,e){1&t&&b.Qb(0,"mat-header-row")}function z(t,e){1&t&&b.Qb(0,"mat-row")}function L(t,e){if(1&t&&(b.Tb(0),b.Vb(1,"mat-card"),b.Vb(2,"mat-card-header"),b.Vb(3,"mat-card-title"),b.Fc(4),b.Ub(),b.Ub(),b.Vb(5,"mat-card-content"),b.Vb(6,"mat-table",2),b.Tb(7,3),b.Dc(8,R,2,0,"mat-header-cell",4),b.Dc(9,P,2,1,"mat-cell",5),b.Sb(),b.Tb(10,6),b.Dc(11,O,2,0,"mat-header-cell",4),b.Dc(12,M,11,7,"mat-cell",5),b.Sb(),b.Tb(13,7),b.Dc(14,k,2,0,"mat-header-cell",4),b.Dc(15,_,3,4,"mat-cell",5),b.Sb(),b.Tb(16,8),b.Dc(17,T,2,0,"mat-header-cell",4),b.Dc(18,$,3,0,"mat-cell",5),b.Sb(),b.Tb(19,9),b.Vb(20,"div"),b.Dc(21,G,2,0,"mat-header-cell",4),b.Dc(22,E,3,0,"mat-cell",5),b.Ub(),b.Sb(),b.Dc(23,j,1,0,"mat-header-row",10),b.Dc(24,z,1,0,"mat-row",11),b.Ub(),b.Ub(),b.Ub(),b.Sb()),2&t){const t=e.ngIf,o=b.gc();b.Db(4),b.Hc(" ",t.id.toUpperCase(),""),b.Db(2),b.mc("dataSource",t.members),b.Db(17),b.mc("matHeaderRowDef",o.displayedColumns),b.Db(1),b.mc("matRowDefColumns",o.displayedColumns)}}function N(t,e){1&t&&(b.Vb(0,"csl-alert",26),b.Fc(1," Non abbiamo trovato nessuna classe con questo ID! "),b.Ub())}let Q=(()=>{class t{constructor(t,e,o,c,n,a,s){this.activated=t,this.members=e,this.toastr=o,this.auth=c,this.router=n,this.store=a,this.dialog=s,this.roleCtrl=new i.e,this.allRoles=[{description:"Rappresentante di classe",role:"isRappreDiClasse"},{description:"Direttore di QP",role:"isQp"},{description:"Referente Arte",role:"isReferente[arte]"},{description:"Referente ASL",role:"isReferente[asl]"},{description:"Referente Biblioteca",role:"isReferente[biblioteca]"},{description:"Referente Cinema",role:"isReferente[cinema]"},{description:"Referente Consulta",role:"isReferente[consulta]"},{description:"Referente Dibattito",role:"isReferente[dibattito]"},{description:"Referente Green",role:"isReferente[green]"},{description:"Referente Feste",role:"isReferente[feste]"},{description:"Referente LIR",role:"isReferente[lir]"},{description:"Referente Musica",role:"isReferente[musica]"},{description:"Referente Omnia",role:"isReferente[omnia]"},{description:"Referente PortArti",role:"isReferente[portarti]"},{description:"Referente Sport",role:"isReferente[sport]"},{description:"Referente Tutoring",role:"isReferente[tutoring]"},{description:"Referente VALE",role:"isReferente[vale]"}],this.router.url.includes("bar-admin")?(this.page="bar-admin",this.displayedColumns=["email","credit","manage"]):this.router.url.includes("vice")?(this.page="vice",this.displayedColumns=["email"]):this.router.url.includes("rappre")?(this.page="rappre",this.displayedColumns=["email","roles"]):this.router.url.includes("admin")&&(this.page="admin",this.displayedColumns=["email","roles","delete"],this.allRoles.push({role:"isRappre",description:"Rappresentante d'Istituto"},{role:"isBar",description:"Barista"},{role:"isVice",description:"Vice"})),this.filteredRoles=this.roleCtrl.valueChanges.pipe(Object(r.a)((t=>t?this._filter(t):this.allRoles.slice()))),this.classID=this.activated.snapshot.paramMap.get("classID")}ngOnInit(){this.state$.pipe(Object(a.a)(1)).subscribe((t=>{this.store.dispatch(t.classes?new l.c.GetCurrent(this.classID):new l.c.Get(this.classID))}))}selected(t,e,o){const c=t.option.viewValue,i=this.allRoles.find((t=>t.description===c));this.roleInput.nativeElement.value="",this.roleCtrl.setValue(null),o.find((t=>t.role===i.role))?this.toastr.show({message:"Questo utente ha gi\xe0 questo ruolo!",color:"accent"}):o.find((t=>t.role.includes("isReferente")))&&i.role.includes("isReferente")?this.toastr.showError("Impossibile aggiungere un altro ruolo da referente!"):this.store.dispatch(new l.d.Add(i,e)).subscribe((()=>{this.toastr.show({message:"Ruolo aggiunto a "+e,color:"basic",action:"Chiudi",duration:5e3})}))}remove(t,e){"admin"===this.page||"isBar"!==t&&"isRappre"!==t&&"isVice"!==t?this.store.dispatch(new l.d.Remove(t,e)).subscribe((()=>{this.toastr.show({message:"Ruolo rimosso da "+e,color:"basic"})})):this.toastr.showError("Non sei autorizzato a rimuovere questo ruolo!")}removeAccount(t){this.dialog.open({title:"Rimuovere account?",text:`L'account associato alla mail ${t} sar\xe0 eliminato e con esso tutti i suoi dati`,color:"warn",answer:"S\xec, rimuovi"}).subscribe((()=>{this.store.dispatch(new l.a.Remove(t)).subscribe((t=>{this.toastr.show({message:"Account rimosso",color:"accent"})}))}))}_filter(t){const e=t.toLowerCase();return this.allRoles.filter((t=>0===t.description.toLowerCase().indexOf(e)))}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(m.a),b.Pb(u.a),b.Pb(d.b),b.Pb(p.a),b.Pb(m.f),b.Pb(s.e),b.Pb(d.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["csl-single-class"]],viewQuery:function(t,e){var o;1&t&&(b.Jc(w,!0),b.Jc(I,!0)),2&t&&(b.rc(o=b.dc())&&(e.roleInput=o.first),b.rc(o=b.dc())&&(e.matAutocomplete=o.first))},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noClassFound",""],[1,"table",3,"dataSource"],["matColumnDef","email"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","roles"],["matColumnDef","credit"],["matColumnDef","manage"],["matColumnDef","delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"chip-list"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Ruoli...",3,"formControl","matAutocomplete","matChipInputFor"],["roleInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"selectable","removable","removed"],["matChipRemove",""],[3,"value"],["mat-button","","color","primary"],["mat-stroked-button","","color","warn",3,"click"],["color","primary"]],template:function(t,e){if(1&t&&(b.Dc(0,L,25,4,"ng-container",0),b.hc(1,"async"),b.Dc(2,N,2,0,"ng-template",null,1,b.Ec)),2&t){const t=b.sc(3);b.mc("ngIf",b.ic(1,2,e.state$).currentClass)("ngIfElse",t)}},directives:[f.m,g.a,g.e,g.h,g.d,h.j,h.c,h.e,h.b,h.g,h.i,h.d,h.a,D.b,C.c,f.l,i.b,F.c,C.b,i.o,i.f,F.a,C.a,U.a,C.d,V.i,v.b,h.f,h.h,y.a],pipes:[f.b,f.d],styles:[".chip-list[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]{width:100%}.mat-column-delete[_ngcontent-%COMP%]{max-width:200px;margin-left:10px}"]}),Object(c.__decorate)([Object(s.c)(l.b),Object(c.__metadata)("design:type",n.a)],t.prototype,"state$",void 0),t})()},TmrM:function(t,e,o){"use strict";o.r(e),o.d(e,"RappreModule",(function(){return pt}));var c=o("2kYt"),i=o("sEIs"),n=o("EM62"),r=o("3DyK");let a=(()=>{class t{constructor(){this.links=[{link:".",title:"Home"},{link:"classi",title:"Classi"},{link:"editor",title:"Gestisci pagina"},{link:"gadgets",title:"Gadget"},{link:"photos",title:"Foto"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Jb({type:t,selectors:[["app-rappre"]],decls:3,vars:1,consts:[[3,"links"]],template:function(t,e){1&t&&(n.Vb(0,"csl-dashboard-model",0),n.Vb(1,"span"),n.Fc(2,"Rappre"),n.Ub(),n.Ub()),2&t&&n.mc("links",e.links)},directives:[r.a],styles:[""]}),t})();var s=o("9ufM"),l=o("jxfh"),b=o("SKMG"),m=o("PBFl");let u=(()=>{class t{constructor(t,e){this.dialog=t,this.auth=e}ngOnInit(){}signOut(){this.dialog.open({title:"Sei sicuro di voler uscire?",text:"Ci\xf2 che stavi facendo potrebbe non essere salvato",color:"warn",answer:"S\xec, esci"}).subscribe((t=>{this.auth.signOut()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(l.a),n.Pb(s.a))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-rappre-home"]],decls:10,vars:3,consts:[[3,"user"],["header",""],["activities-label",""],["activities",""],["mat-raised-button","","color","warn","logout-btn","",3,"click"]],template:function(t,e){1&t&&(n.Vb(0,"csl-dashboard-home",0),n.hc(1,"async"),n.Vb(2,"span",1),n.Fc(3,"I vostri dati"),n.Ub(),n.Vb(4,"span",2),n.Fc(5,"Le vostre attivit\xe0"),n.Ub(),n.Vb(6,"span",3),n.Fc(7,"Questa sezione \xe8 ancora vuota! Tornate pi\xf9 tardi..."),n.Ub(),n.Vb(8,"button",4),n.cc("click",(function(){return e.signOut()})),n.Fc(9,"Esci"),n.Ub(),n.Ub()),2&t&&n.mc("user",n.ic(1,1,e.auth.user$))},directives:[b.a,m.b],pipes:[c.b],styles:[".profileimg[_ngcontent-%COMP%]{height:100%;border-radius:50px}h1[_ngcontent-%COMP%]{font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:20px}button[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var d=o("vobO");let p=(()=>{class t{constructor(t){this.http=t}getGadgets(){return this.http.get("/api/products/gadgets")}getPhotos(){return this.http.get("/api/products/photos")}getProduct(t){return this.http.post("/api/products/find",{id:t})}deleteProduct(t){return this.http.delete("/api/products/"+t)}}return t.\u0275fac=function(e){return new(e||t)(n.Zb(d.b))},t.\u0275prov=n.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=o("YtkY"),g=o("Meci"),h=o("FlRo");function D(t,e){1&t&&(n.Vb(0,"mat-card-title"),n.Fc(1,"Gadget"),n.Ub())}function C(t,e){1&t&&(n.Vb(0,"mat-card-title"),n.Fc(1,"Foto"),n.Ub())}function F(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"ID"),n.Ub())}function U(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Fc(1),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.Gc(t.id)}}function V(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"Nome"),n.Ub())}function v(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Fc(1),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.Gc(t.name)}}function y(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"Descrizione"),n.Ub())}function w(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Fc(1),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.Gc(t.description)}}function I(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"Prezzo"),n.Ub())}function R(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Fc(1),n.hc(2,"currency"),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.Gc(n.jc(2,1,t.price,"EUR"))}}function P(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"Taglie"),n.Ub())}function O(t,e){if(1&t&&(n.Tb(0),n.Fc(1),n.Sb()),2&t){const t=e.$implicit;n.Db(1),n.Hc("",t,"; ")}}function S(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Dc(1,O,2,1,"ng-container",15),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.mc("ngForOf",t.sizes)}}function x(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"Colori"),n.Ub())}const M=function(t){return{"background-color":t}};function k(t,e){if(1&t&&(n.Tb(0),n.Qb(1,"span",16),n.Sb()),2&t){const t=e.$implicit;n.Db(1),n.mc("ngStyle",n.pc(1,M,t))}}function _(t,e){if(1&t&&(n.Vb(0,"mat-cell"),n.Dc(1,k,2,3,"ng-container",15),n.Ub()),2&t){const t=e.$implicit;n.Db(1),n.mc("ngForOf",t.colors)}}function T(t,e){1&t&&(n.Vb(0,"mat-header-cell"),n.Fc(1,"Gestisci"),n.Ub())}function $(t,e){if(1&t){const t=n.Wb();n.Vb(0,"mat-cell"),n.Vb(1,"button",17),n.cc("click",(function(){n.uc(t);const o=e.$implicit;return n.gc().deleteProduct(o.id)})),n.Fc(2," Cancella prodotto "),n.Ub(),n.Ub()}}function G(t,e){1&t&&n.Qb(0,"mat-header-row")}function E(t,e){1&t&&n.Qb(0,"mat-row")}const j=function(){return["create"]};let z=(()=>{class t{constructor(t,e,o,c){this.productsService=t,this.activated=e,this.dialog=o,this.toastr=c}ngOnInit(){this.activated.paramMap.pipe(Object(f.a)((t=>t.get("category")))).subscribe((t=>{this.category=t,"gadgets"===t?(this.displayedColumns=["id","name","description","price","sizes","colors","options"],this.productsService.getGadgets().subscribe((t=>{this.products=t}))):"photos"===t&&(this.displayedColumns=["id","name","description","price","options"],this.productsService.getPhotos().subscribe((t=>{this.products=t})))}))}deleteProduct(t){this.dialog.open({title:"Sei sicuro di voler eliminare questo prodotto?",text:"Potrai ricrearlo dalla pagina per la creazione dei prodotti",color:"warn",answer:"S\xec, elimina prodotto"}).subscribe((e=>{this.productsService.deleteProduct(t).subscribe((t=>{!0===t.success?(this.toastr.show({message:"Prodotto eliminato",color:"accent",action:"Chiudi",duration:5e3}),"gadgets"===this.category?this.productsService.getGadgets().subscribe((t=>this.products=t)):"photos"===this.category&&this.productsService.getPhotos().subscribe((t=>this.products=t))):!1===t.success&&this.toastr.showError()}))}))}displayColumn(t){return this.displayedColumns.includes(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(p),n.Pb(i.a),n.Pb(l.a),n.Pb(l.b))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-manage-category"]],decls:33,vars:7,consts:[[4,"ngIf","ngIfElse"],["photos",""],[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","sizes"],["matColumnDef","colors"],["matColumnDef","options"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"routerLink"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["mat-button","","color","warn",3,"click"]],template:function(t,e){if(1&t&&(n.Vb(0,"mat-card"),n.Vb(1,"mat-card-header"),n.Dc(2,D,2,0,"mat-card-title",0),n.Dc(3,C,2,0,"ng-template",null,1,n.Ec),n.Ub(),n.Vb(5,"mat-card-content"),n.Vb(6,"mat-table",2),n.Tb(7,3),n.Dc(8,F,2,0,"mat-header-cell",4),n.Dc(9,U,2,1,"mat-cell",5),n.Sb(),n.Tb(10,6),n.Dc(11,V,2,0,"mat-header-cell",4),n.Dc(12,v,2,1,"mat-cell",5),n.Sb(),n.Tb(13,7),n.Dc(14,y,2,0,"mat-header-cell",4),n.Dc(15,w,2,1,"mat-cell",5),n.Sb(),n.Tb(16,8),n.Dc(17,I,2,0,"mat-header-cell",4),n.Dc(18,R,3,4,"mat-cell",5),n.Sb(),n.Tb(19,9),n.Dc(20,P,2,0,"mat-header-cell",4),n.Dc(21,S,2,1,"mat-cell",5),n.Sb(),n.Tb(22,10),n.Dc(23,x,2,0,"mat-header-cell",4),n.Dc(24,_,2,1,"mat-cell",5),n.Sb(),n.Tb(25,11),n.Dc(26,T,2,0,"mat-header-cell",4),n.Dc(27,$,3,0,"mat-cell",5),n.Sb(),n.Dc(28,G,1,0,"mat-header-row",12),n.Dc(29,E,1,0,"mat-row",13),n.Ub(),n.Ub(),n.Vb(30,"mat-card-actions"),n.Vb(31,"a",14),n.Fc(32," Aggiungi un prodotto "),n.Ub(),n.Ub(),n.Ub()),2&t){const t=n.sc(4);n.Db(2),n.mc("ngIf","gadgets"===e.category)("ngIfElse",t),n.Db(4),n.mc("dataSource",e.products),n.Db(22),n.mc("matHeaderRowDef",e.displayedColumns),n.Db(1),n.mc("matRowDefColumns",e.displayedColumns),n.Db(2),n.mc("routerLink",n.oc(6,j))}},directives:[g.a,g.e,c.m,g.d,h.j,h.c,h.e,h.b,h.g,h.i,g.b,m.a,i.i,g.h,h.d,h.a,c.l,c.n,m.b,h.f,h.h],pipes:[c.d],styles:["table[_ngcontent-%COMP%]{width:100%}mat-card-actions[_ngcontent-%COMP%]{margin-left:20px}span[_ngcontent-%COMP%]{padding:10px 10px 10px 15px;border-radius:5px;margin-right:5px}"]}),t})();var L=o("JCQO"),N=o("nIj0"),Q=o("lu7F"),A=o("29Wa"),H=o("Cd2c"),J=o("+Tre"),X=o("Pq5H");let q=(()=>{class t{transform(t,...e){return t.replace(/ /g,"-").toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Ob({name:"productId",type:t,pure:!0}),t})();function W(t,e){if(1&t&&(n.Vb(0,"mat-checkbox",19),n.Fc(1),n.Ub()),2&t){const t=e.$implicit;n.nc("formControlName",t),n.Db(1),n.Gc(t)}}function B(t,e){if(1&t&&(n.Tb(0,16),n.Qb(1,"br"),n.Vb(2,"h4"),n.Fc(3,"Taglie disponibili"),n.Ub(),n.Vb(4,"div",17),n.Dc(5,W,2,2,"mat-checkbox",18),n.Ub(),n.Sb()),2&t){const t=n.gc();n.Db(5),n.mc("ngForOf",t.sizes)}}function Y(t,e){if(1&t){const t=n.Wb();n.Tb(0),n.Vb(1,"mat-form-field"),n.Qb(2,"input",22),n.Ub(),n.Vb(3,"button",23),n.cc("click",(function(){n.uc(t);const o=e.index;return n.gc(2).removeColor(o)})),n.Qb(4,"fa-icon",24),n.Ub(),n.Sb()}if(2&t){const t=e.index,o=n.gc(2);n.Db(2),n.mc("formControlName",t),n.Db(2),n.mc("icon",o.faTimes)}}function K(t,e){if(1&t){const t=n.Wb();n.Tb(0,20),n.Qb(1,"br"),n.Vb(2,"h4"),n.Fc(3,"Colori disponibili"),n.Ub(),n.Vb(4,"button",21),n.cc("click",(function(){return n.uc(t),n.gc().addColor()})),n.Fc(5," Aggiungi un colore "),n.Ub(),n.Qb(6,"div",11),n.Dc(7,Y,5,2,"ng-container",14),n.Sb()}if(2&t){const t=n.gc();n.Db(7),n.mc("ngForOf",t.colors.controls)}}function Z(t,e){if(1&t&&(n.Tb(0),n.Fc(1),n.Sb()),2&t){const t=n.gc().$implicit;n.Db(1),n.Hc(" ",t,",\xa0 ")}}function tt(t,e){if(1&t&&(n.Tb(0),n.Dc(1,Z,2,1,"ng-container",13),n.Sb()),2&t){const t=e.$implicit,o=n.gc(2);n.Db(1),n.mc("ngIf",!0===o.productForm.value.sizes[t])}}function et(t,e){if(1&t&&(n.Vb(0,"tr"),n.Vb(1,"th"),n.Fc(2,"Taglie:"),n.Ub(),n.Vb(3,"td"),n.Dc(4,tt,2,1,"ng-container",14),n.Ub(),n.Ub()),2&t){const t=n.gc();n.Db(4),n.mc("ngForOf",t.sizes)}}const ot=function(t){return{"background-color":t}};function ct(t,e){1&t&&n.Qb(0,"span",26),2&t&&n.mc("ngStyle",n.pc(1,ot,e.$implicit))}function it(t,e){if(1&t&&(n.Vb(0,"tr"),n.Vb(1,"th"),n.Fc(2,"Colori:"),n.Ub(),n.Vb(3,"td"),n.Dc(4,ct,1,3,"span",25),n.Ub(),n.Ub()),2&t){const t=n.gc();n.Db(4),n.mc("ngForOf",t.productForm.value.colors)}}function nt(t,e){if(1&t&&(n.Tb(0),n.Fc(1),n.Sb()),2&t){const t=e.$implicit;n.Db(1),n.Hc("",t.name,",\xa0 ")}}let rt=(()=>{class t{constructor(t,e,o,c,i,n){this.upload=t,this.dialog=e,this.activated=o,this.fb=c,this.toastr=i,this.router=n,this.faTimes=Q.b,this.sizes=["XXS","XS","S","M","L","XL","XXL"],this.productForm=this.fb.group({name:["",N.u.required],description:[""],price:["",N.u.required],files:["",N.u.required]}),this.category=this.activated.snapshot.paramMap.get("category"),"gadgets"===this.category&&(this.productForm.addControl("colors",this.fb.array([])),this.productForm.addControl("sizes",this.fb.group({XXS:[!1],XS:[!1],S:[!1],M:[!1],L:[!1],XL:[!1],XXL:[!1]},[N.u.required])))}ngOnInit(){}get colors(){return this.productForm.get("colors")}addColor(){this.colors.push(this.fb.control("#000000"))}removeColor(t){this.colors.removeAt(t)}onSubmit(){this.dialog.open({title:"Confermare la creazione del prodotto?",text:"Non potrai modificarlo in seguito",color:"primary",answer:"S\xec, conferma"}).subscribe((t=>{this.upload.productUpload(this.productForm.value,this.category,(t=>{this.upload.working=!1,this.upload.imgFiles=[],this.upload.readyToUploadImages=!1,this.router.navigate(["rappre",this.category]),this.toastr.show({message:"Prodotto creato con successo",color:"success",action:"Chiudi",duration:5e3})}))}))}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(L.a),n.Pb(l.a),n.Pb(i.a),n.Pb(N.d),n.Pb(l.b),n.Pb(i.f))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-create-product"]],decls:65,vars:16,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"textinput"],["matInput","","type","text","formControlName","name"],["align","start"],["matInput","","type","text","formControlName","description"],["matInput","","type","number","formControlName","price"],["formGroupName","sizes",4,"ngIf"],["formArrayName","colors",4,"ngIf"],["type","file","multiple","true","formControlName","files",2,"display","none",3,"change"],["uploadFiles",""],["mat-stroked-button","","type","button","color","primary","size","small",3,"click"],[1,"break"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["formGroupName","sizes"],[1,"checkboxes"],["color","primary",3,"formControlName",4,"ngFor","ngForOf"],["color","primary",3,"formControlName"],["formArrayName","colors"],["mat-button","","type","button","color","primary",3,"click"],["matInput","","type","color",1,"colorInput",3,"formControlName"],["mat-icon-button","","color","warn","type","button",1,"deleteColor",3,"click"],[3,"icon"],["class","color",3,"ngStyle",4,"ngFor","ngForOf"],[1,"color",3,"ngStyle"]],template:function(t,e){if(1&t){const t=n.Wb();n.Vb(0,"form",0),n.cc("ngSubmit",(function(){return e.onSubmit()})),n.Vb(1,"h4"),n.Fc(2,"Informazioni principali"),n.Ub(),n.Vb(3,"mat-form-field",1),n.Vb(4,"mat-label"),n.Fc(5,"Nome del prodotto"),n.Ub(),n.Qb(6,"input",2),n.Vb(7,"mat-hint",3),n.Vb(8,"strong"),n.Fc(9,"Assicurati di non aver mai usato questo nome"),n.Ub(),n.Ub(),n.Ub(),n.Vb(10,"mat-form-field",1),n.Vb(11,"mat-label"),n.Fc(12,"Descrizione del prodotto"),n.Ub(),n.Qb(13,"input",4),n.Ub(),n.Vb(14,"mat-form-field",1),n.Vb(15,"mat-label"),n.Fc(16,"Prezzo"),n.Ub(),n.Qb(17,"input",5),n.Ub(),n.Dc(18,B,6,1,"ng-container",6),n.Dc(19,K,8,1,"ng-container",7),n.Qb(20,"br"),n.Vb(21,"h4"),n.Fc(22,"Immagini"),n.Ub(),n.Vb(23,"input",8,9),n.cc("change",(function(t){return e.upload.onImgSelect(t)})),n.Ub(),n.Vb(25,"button",10),n.cc("click",(function(){return n.uc(t),n.sc(24).click()})),n.Fc(26," Carica "),n.Ub(),n.Qb(27,"div",11),n.Vb(28,"mat-card"),n.Vb(29,"mat-card-header"),n.Vb(30,"mat-card-title"),n.Fc(31," Riepilogo "),n.Ub(),n.Ub(),n.Vb(32,"mat-card-content"),n.Vb(33,"table",12),n.Vb(34,"tr"),n.Vb(35,"th"),n.Fc(36,"ID:"),n.Ub(),n.Vb(37,"td"),n.Fc(38),n.hc(39,"productId"),n.Ub(),n.Ub(),n.Vb(40,"tr"),n.Vb(41,"th"),n.Fc(42,"Nome:"),n.Ub(),n.Vb(43,"td"),n.Fc(44),n.Ub(),n.Ub(),n.Vb(45,"tr"),n.Vb(46,"th"),n.Fc(47,"Descrizione:"),n.Ub(),n.Vb(48,"td"),n.Fc(49),n.Ub(),n.Ub(),n.Vb(50,"tr"),n.Vb(51,"th"),n.Fc(52,"Prezzo:"),n.Ub(),n.Vb(53,"td"),n.Fc(54),n.hc(55,"currency"),n.Ub(),n.Ub(),n.Dc(56,et,5,1,"tr",13),n.Dc(57,it,5,1,"tr",13),n.Vb(58,"tr"),n.Vb(59,"th"),n.Fc(60,"Immagini:"),n.Ub(),n.Vb(61,"td"),n.Dc(62,nt,2,1,"ng-container",14),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Vb(63,"button",15),n.Fc(64," Crea prodotto "),n.Ub(),n.Ub()}2&t&&(n.mc("formGroup",e.productForm),n.Db(18),n.mc("ngIf","gadgets"===e.category),n.Db(1),n.mc("ngIf","gadgets"===e.category),n.Db(19),n.Gc(n.ic(39,11,e.productForm.value.name)),n.Db(6),n.Gc(e.productForm.value.name),n.Db(5),n.Gc(e.productForm.value.description),n.Db(5),n.Gc(n.jc(55,13,e.productForm.value.price,"EUR")),n.Db(2),n.mc("ngIf","gadgets"===e.category),n.Db(1),n.mc("ngIf","gadgets"===e.category),n.Db(5),n.mc("ngForOf",e.upload.imgFiles),n.Db(1),n.mc("disabled",!e.productForm.valid))},directives:[N.v,N.p,N.i,A.b,A.f,H.a,N.b,N.o,N.g,A.e,N.r,c.m,m.b,g.a,g.e,g.h,g.d,c.l,N.j,J.a,N.c,X.a,c.n],pipes:[q,c.d],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.break[_ngcontent-%COMP%]{flex-basis:100%;height:0}h4[_ngcontent-%COMP%]{font-weight:500;flex:100%}.textinput[_ngcontent-%COMP%]{margin-right:10%;width:20%;min-width:180px}.checkboxes[_ngcontent-%COMP%], .textinput[_ngcontent-%COMP%]{margin-bottom:20px}mat-checkbox[_ngcontent-%COMP%]{margin-right:10px}button[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin-bottom:20px}mat-card[_ngcontent-%COMP%]{flex:100%}table[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}tr[_ngcontent-%COMP%]{flex-basis:100%}.color[_ngcontent-%COMP%]{padding:5px 5px 5px 15px;border-radius:5px;margin-right:5px}"]}),t})();var at=o("r8jD"),st=o("8BM3"),lt=o("CAI7");const bt=[{path:"",component:a,children:[{path:"",component:u},{path:"classi",component:at.a},{path:"classi/:classID",component:st.a},{path:"editor",component:lt.a},{path:":category",component:z},{path:":category/create",component:rt}]}];let mt=(()=>{class t{}return t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({factory:function(e){return new(e||t)},imports:[[i.j.forChild(bt)],i.j]}),t})();var ut=o("PCNd"),dt=o("vrzs");let pt=(()=>{class t{}return t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({factory:function(e){return new(e||t)},imports:[[c.c,mt,N.k,N.s,ut.a,l.c,dt.a]]}),t})()},r8jD:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var c=o("D57K"),i=o("yDe4"),n=o("oIO+"),r=o("IdLP"),a=o("EM62"),s=o("2kYt"),l=o("Meci"),b=o("sEIs"),m=o("Rjd2");const u=function(t){return[t]};function d(t,e){if(1&t&&(a.Tb(0),a.Vb(1,"mat-card",5),a.Vb(2,"mat-card-header"),a.Vb(3,"mat-card-title"),a.Fc(4),a.Ub(),a.Ub(),a.Ub(),a.Sb()),2&t){const t=e.$implicit;a.Db(1),a.mc("routerLink",a.pc(2,u,t.id)),a.Db(3),a.Gc(t.id.toUpperCase())}}function p(t,e){if(1&t&&(a.Tb(0),a.Dc(1,d,5,4,"ng-container",4),a.Sb()),2&t){const t=a.gc().ngIf;a.Db(1),a.mc("ngForOf",t)}}function f(t,e){if(1&t&&(a.Vb(0,"div",2),a.Dc(1,p,2,1,"ng-container",3),a.Ub()),2&t){const t=e.ngIf;a.gc();const o=a.sc(3);a.Db(1),a.mc("ngIf",t.length>0)("ngIfElse",o)}}function g(t,e){1&t&&(a.Vb(0,"csl-alert",6),a.Fc(1," Non ci sono ancora classi! "),a.Ub())}let h=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.store.dispatch(new n.c.Get)}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(i.e))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-classi"]],decls:4,vars:4,consts:[["class","cards",4,"ngIf","ngIfElse"],["noClasses",""],[1,"cards"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"card",3,"routerLink"],["color","primary",1,"alert"]],template:function(t,e){if(1&t&&(a.Dc(0,f,2,2,"div",0),a.hc(1,"async"),a.Dc(2,g,2,0,"ng-template",null,1,a.Ec)),2&t){const t=a.sc(3);a.mc("ngIf",a.ic(1,2,e.state$).classes)("ngIfElse",t)}},directives:[s.m,s.l,l.a,b.g,l.e,l.h,m.a],pipes:[s.b],styles:[".cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card[_ngcontent-%COMP%]{cursor:pointer;width:4em;margin-right:20px;margin-bottom:20px;outline:none;text-align:center}.alert[_ngcontent-%COMP%]{width:100%}"]}),Object(c.__decorate)([Object(i.c)(n.b),Object(c.__metadata)("design:type",r.a)],t.prototype,"state$",void 0),t})()}}]);