<div
  class="container"
  *ngIf="commissione | async as commissione; else noPageYet"
>
  <h1 class="title">{{ commissione.title }}</h1>

  <ng-container *ngIf="commissione.page as page; else noPageYet">
    <ng-container *ngFor="let block of page.blocks">
      <ng-container [ngSwitch]="block.type">
        <!-- Display in case the block type is header -->
        <ng-container *ngSwitchCase="'header'">
          <h1 class="header" [innerHTML]="block.data.text"></h1>
        </ng-container>

        <!-- Display in case the block type is image -->
        <ng-container *ngSwitchCase="'image'">
          <div class="img-container">
            <img [src]="block.data.file.firebaseURL" class="image" />
            <p class="caption" [innerHTML]="block.data.caption"></p>
          </div>
        </ng-container>

        <!-- Display in case the block type is paragraph -->
        <ng-container *ngSwitchCase="'paragraph'">
          <p class="paragraph" [innerHTML]="block.data.text"></p>
        </ng-container>

        <!-- Display in case the block type is list -->
        <ng-container *ngSwitchCase="'list'">
          <ul class="list" [ngClass]="block.data.style">
            <li *ngFor="let item of block.data.items" [innerHTML]="item"></li>
          </ul>
        </ng-container>
      </ng-container>
    </ng-container>
  </ng-container>
</div>

<ng-template #noPageYet>
  <csl-alert class="alert">
    <ng-content select="[noPageYet]"></ng-content>
  </csl-alert>
</ng-template>
