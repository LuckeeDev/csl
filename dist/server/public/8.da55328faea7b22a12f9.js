(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+F6c":function(e,n,t){"use strict";t.r(n),t.d(n,"QpAdminModule",(function(){return ee}));var i=t("2kYt"),o=t("sEIs"),r=t("EM62"),a=t("3DyK");let s=(()=>{class e{constructor(){this.links=[{link:".",title:"Home"},{link:"editor",title:"Articoli"}]}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=r.Jb({type:e,selectors:[["app-qp-admin"]],decls:3,vars:1,consts:[[3,"links"]],template:function(e,n){1&e&&(r.Vb(0,"csl-dashboard-model",0),r.Vb(1,"span"),r.Fc(2,"QP"),r.Ub(),r.Ub()),2&e&&r.mc("links",n.links)},directives:[a.a],styles:[""]}),e})();var l=t("9ufM"),c=t("jxfh"),d=t("Rjd2"),u=t("PBFl"),p=t("Meci");function m(e,n){if(1&e&&(r.Vb(0,"mat-card"),r.Vb(1,"mat-card-header"),r.Vb(2,"div",2),r.Qb(3,"img",3),r.Ub(),r.Vb(4,"mat-card-title"),r.Fc(5),r.Ub(),r.Vb(6,"mat-card-subtitle"),r.Fc(7),r.Ub(),r.Ub(),r.Ub()),2&e){const e=n.ngIf;r.Db(3),r.mc("src",e.photoURL,r.wc),r.Db(2),r.Ic("",e.firstName," ",e.lastName,""),r.Db(2),r.Gc(e.email)}}let h=(()=>{class e{constructor(e,n){this.dialog=e,this.auth=n}ngOnInit(){}signOut(){this.dialog.open({title:"Sei sicuro di voler uscire?",text:"Ci\xf2 che stavi facendo potrebbe non essere salvato",color:"warn",answer:"S\xec, esci"}).subscribe((e=>{this.auth.signOut()}))}}return e.\u0275fac=function(n){return new(n||e)(r.Pb(c.a),r.Pb(l.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["app-qp-admin-home"]],decls:11,vars:3,consts:[[4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-card-avatar",""],[1,"profileimg",3,"src"]],template:function(e,n){1&e&&(r.Vb(0,"div"),r.Vb(1,"h1"),r.Fc(2,"I vostri dati"),r.Ub(),r.Dc(3,m,8,4,"mat-card",0),r.hc(4,"async"),r.Vb(5,"h1"),r.Fc(6,"Le vostre attivit\xe0"),r.Ub(),r.Vb(7,"csl-alert"),r.Fc(8," Questa sezione \xe8 ancora vuota! Tornate pi\xf9 tardi... "),r.Ub(),r.Vb(9,"button",1),r.cc("click",(function(){return n.signOut()})),r.Fc(10,"Esci"),r.Ub(),r.Ub()),2&e&&(r.Db(3),r.mc("ngIf",r.ic(4,1,n.auth.user$)))},directives:[i.m,d.a,u.b,p.a,p.e,p.c,p.h,p.g],pipes:[i.b],styles:[".profileimg[_ngcontent-%COMP%]{height:100%;border-radius:50px}h1[_ngcontent-%COMP%]{font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:20px}button[_ngcontent-%COMP%]{margin-top:20px}"]}),e})();var f=t("tPfK"),g=t("FlRo"),b=t("k8N0");function v(e,n){1&e&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"ID"),r.Ub())}function y(e,n){if(1&e&&(r.Vb(0,"mat-cell"),r.Fc(1),r.Ub()),2&e){const e=n.$implicit;r.Db(1),r.Gc(e.id)}}function k(e,n){1&e&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Titolo"),r.Ub())}function _(e,n){if(1&e&&(r.Vb(0,"mat-cell"),r.Fc(1),r.Ub()),2&e){const e=n.$implicit;r.Db(1),r.Gc(e.title)}}function w(e,n){1&e&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Pubblicato"),r.Ub())}function S(e,n){if(1&e){const e=r.Wb();r.Vb(0,"mat-cell"),r.Vb(1,"mat-slide-toggle",10),r.cc("change",(function(t){r.uc(e);const i=n.$implicit;return r.gc().publishedChange(t,i.id)})),r.Ub(),r.Ub()}if(2&e){const e=n.$implicit;r.Db(1),r.mc("checked",e.published)}}function C(e,n){1&e&&(r.Vb(0,"mat-header-cell"),r.Fc(1,"Gestisci"),r.Ub())}const T=function(e){return[e]};function x(e,n){if(1&e){const e=r.Wb();r.Vb(0,"mat-cell"),r.Vb(1,"button",11),r.Fc(2," Modifica "),r.Ub(),r.Vb(3,"button",12),r.cc("click",(function(){r.uc(e);const t=n.$implicit;return r.gc().deleteArticle(t.id)})),r.Fc(4," Elimina "),r.Ub(),r.Ub()}if(2&e){const e=n.$implicit;r.Db(1),r.mc("routerLink",r.pc(1,T,e.id))}}function I(e,n){1&e&&r.Qb(0,"mat-header-row")}function U(e,n){1&e&&r.Qb(0,"mat-row")}const P=function(){return["new"]};let A=(()=>{class e{constructor(e,n,t){this.articlesService=e,this.dialog=n,this.toastr=t,this.displayedColumns=["id","title","options","published"]}ngOnInit(){this.articlesService.getArticles().subscribe((e=>{this.articles=e.data}))}deleteArticle(e){this.dialog.open({title:"Cancellare l'articolo?",answer:"S\xec, cancella",text:"Non potrai pi\xf9 recuperarlo",color:"warn"}).subscribe((()=>{this.articlesService.delete(e).subscribe((e=>{!0===e.success?(this.toastr.show({message:"Articolo eliminato",color:"accent",action:"Chiudi",duration:5e3}),this.articlesService.getArticles().subscribe((e=>{this.articles=e.data}))):!1===e.success&&this.toastr.showError()}))}))}publishedChange(e,n){this.articlesService.changeArticlePublished(n,e.checked).subscribe((e=>{e.success?this.toastr.show({color:"basic",message:"Stato dell'articolo modificato con successo"}):this.toastr.showError()}))}}return e.\u0275fac=function(n){return new(n||e)(r.Pb(f.a),r.Pb(c.a),r.Pb(c.b))},e.\u0275cmp=r.Jb({type:e,selectors:[["csl-manage-articles"]],decls:23,vars:5,consts:[[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","published"],["matColumnDef","options"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"routerLink"],["color","primary",1,"toggle",3,"checked","change"],["mat-stroked-button","","color","primary","size","small",3,"routerLink"],["mat-stroked-button","","color","warn",3,"click"]],template:function(e,n){1&e&&(r.Vb(0,"mat-card"),r.Vb(1,"mat-card-header"),r.Vb(2,"mat-card-title"),r.Fc(3,"Articoli"),r.Ub(),r.Ub(),r.Vb(4,"mat-card-content"),r.Vb(5,"mat-table",0),r.Tb(6,1),r.Dc(7,v,2,0,"mat-header-cell",2),r.Dc(8,y,2,1,"mat-cell",3),r.Sb(),r.Tb(9,4),r.Dc(10,k,2,0,"mat-header-cell",2),r.Dc(11,_,2,1,"mat-cell",3),r.Sb(),r.Tb(12,5),r.Dc(13,w,2,0,"mat-header-cell",2),r.Dc(14,S,2,1,"mat-cell",3),r.Sb(),r.Tb(15,6),r.Dc(16,C,2,0,"mat-header-cell",2),r.Dc(17,x,5,3,"mat-cell",3),r.Sb(),r.Dc(18,I,1,0,"mat-header-row",7),r.Dc(19,U,1,0,"mat-row",8),r.Ub(),r.Ub(),r.Vb(20,"mat-card-actions"),r.Vb(21,"a",9),r.Fc(22," Aggiungi un articolo "),r.Ub(),r.Ub(),r.Ub()),2&e&&(r.Db(5),r.mc("dataSource",n.articles),r.Db(13),r.mc("matHeaderRowDef",n.displayedColumns),r.Db(1),r.mc("matRowDefColumns",n.displayedColumns),r.Db(2),r.mc("routerLink",r.oc(4,P)))},directives:[p.a,p.e,p.h,p.d,g.j,g.c,g.e,g.b,g.g,g.i,p.b,u.a,o.i,g.d,g.a,b.a,u.b,o.g,g.f,g.h],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-right:10px}mat-card-actions[_ngcontent-%COMP%]{margin-left:20px}.toggle[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();var E=t("D57K"),D=t("+IuD"),R=t.n(D),j=t("w/LV"),M=t.n(j),N=t("6V5p"),O=t.n(N),L=t("UIvY"),F=t.n(L),V=t("eVdK"),B=t.n(V),H=t("pkNS"),q=t.n(H),z=t("nIj0"),W=t("29Wa"),Q=t("R7+U"),G=t("Cd2c"),K=t("mFH5");function $(e,n){if(1&e&&(r.Vb(0,"mat-option",17),r.Fc(1),r.Ub()),2&e){const e=n.$implicit;r.mc("value",e),r.Db(1),r.Gc(e)}}let J=(()=>{class e{constructor(e,n,t,i,o,r){this.articlesService=e,this.dialog=n,this.toastr=t,this.route=i,this.router=o,this.fb=r,this.metadata=this.fb.group({category:["",z.u.required],title:["",z.u.required],author:["",z.u.required],estimatedTime:["",z.u.required],image:["",z.u.required]}),this.ready=!1,this.articleID=this.route.snapshot.paramMap.get("articleID"),this.categories=["Lussana","Italia","Mondo","Speciale","Scienza & Tech","Cultura","Sport","Svago"]}ngOnInit(){}ngAfterViewInit(){this.articlesService.getArticle(this.articleID).subscribe((e=>{const n=e.data;n&&(this.metadata.controls.category.setValue(n.category),this.metadata.controls.title.setValue(n.title),this.metadata.controls.author.setValue(n.author),this.metadata.controls.estimatedTime.setValue(n.estimatedTime),this.metadata.controls.image.setValue(n.image)),this.editor=new R.a({holder:"editorjs",data:n?n.content:null,tools:{header:{class:M.a,shortcut:"CTRL+ALT+T",inlineToolbar:["bold","italic","hyperlink"],config:{placeholder:"Titolo",levels:[1,2,3],defaultLevel:1}},paragraph:{class:O.a,shortcut:"CTRL+ALT+Q",inlineToolbar:["bold","italic","hyperlink"],config:{placeholder:"Testo"}},list:{class:F.a,shortcut:"CTRL+ALT+W",inlineToolbar:["bold","italic","hyperlink"]},image:{class:B.a,shortcut:"CTRL+ALT+I",inlineToolbar:["bold","italic","hyperlink"],config:{endpoints:{byFile:"/api/articles/image"}}},hyperlink:{class:q.a,config:{availableTargets:["_blank","_self"],availableRels:["external"],target:"_blank",rel:"external"}}},defaultBlock:"paragraph",i18n:{messages:{toolNames:{Text:"Paragrafo",Heading:"Titolo",List:"Elenco",Image:"Immagine",Bold:"Grassetto",Italic:"Corsivo",Hyperlink:"Link"},tools:{list:{Ordered:"Numerato",Unordered:"Non numerato"},image:{"Select an Image":"Carica un'immagine","With border":"Con bordo","Stretch image":"Allarga immagine","With background":"Con sfondo"},link:{"Add a link":"Aggiungi un link"},hyperlink:{Save:"Salva","Select target":"Seleziona destinazione","Select rel":"Seleziona relazione"}},blockTunes:{delete:{Delete:"Elimina"},moveUp:{"Move up":"Sposta su"},moveDown:{"Move down":"Sposta gi\xf9"}},ui:{blockTunes:{toggler:{"Click to tune":"Modifica"}},inlineToolbar:{converter:{"Convert to":"Converti in"}},toolbar:{toolbox:{Add:"Aggiungi"}}}}},autofocus:!0,onReady:()=>{this.ready=!0}})}))}save(){this.dialog.open({title:"Salvare l'articolo?",text:"Potrai comunque modificarlo in seguito",answer:"S\xec, salva",color:"primary"}).subscribe((()=>{this.editor.save().then((e=>{this.saving=!0,this.articlesService.save(e,this.metadata.value,this.articleID).subscribe((e=>{this.saving=!1,!0===e.success?(this.toastr.show({message:"Articolo salvato!",color:"success",action:"Chiudi",duration:5e3}),this.articleID||this.router.navigate(["editor",e.data.articleID],{relativeTo:this.route.parent})):!1===e.success&&this.toastr.showError()}))}))}))}delete(){this.dialog.open({title:"Cancellare l'articolo?",answer:"S\xec, cancella",text:"Non potrai pi\xf9 recuperarlo",color:"warn"}).subscribe((()=>{this.articleID?this.articleID&&this.articlesService.delete(this.articleID).subscribe((e=>{!0===e.success?(this.toastr.show({message:"Articolo eliminato",color:"accent",action:"Chiudi",duration:5e3}),this.router.navigate(["qp-admin","editor"])):!1===e.success&&this.toastr.showError()})):(this.editor.clear(),this.metadata.reset(),this.toastr.show({message:"Articolo eliminato",color:"primary"}),this.router.navigate(["..","qp-admin","editor"]))}))}uploadCover(e){this.ready=!1,this.articlesService.uploadCover(e.target.files[0]).then((e=>Object(E.__awaiter)(this,void 0,void 0,(function*(){this.ready=!0,this.metadata.controls.image.setValue(e.metadata.name),this.toastr.show({message:"File caricato",color:"primary",action:"Chiudi",duration:5e3})})))).catch((e=>{this.ready=!0,this.toastr.showError()}))}}return e.\u0275fac=function(n){return new(n||e)(r.Pb(f.a),r.Pb(c.a),r.Pb(c.b),r.Pb(o.a),r.Pb(o.f),r.Pb(z.d))},e.\u0275cmp=r.Jb({type:e,selectors:[["csl-editor"]],decls:44,vars:4,consts:[["id","editorjs"],[1,"form-container",3,"formGroup"],[1,"input"],["for","category"],["id","category","placeholder","Selezionare categoria...","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["matInput","","id","title","type","text","matInput","","formControlName","title"],["matInput","","id","author","type","text","matInput","","formControlName","author"],["id","estimatedTime","type","number","matInput","","formControlName","estimatedTime"],["matSuffix",""],[1,"break"],["type","file","hidden","",3,"change"],["uploadFile",""],["mat-stroked-button","","color","primary",3,"click"],[1,"file-text"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(e,n){if(1&e){const e=r.Wb();r.Vb(0,"mat-card"),r.Vb(1,"mat-card-header"),r.Vb(2,"mat-card-title"),r.Fc(3,"Gestisci il tuo articolo"),r.Ub(),r.Ub(),r.Vb(4,"mat-card-content"),r.Vb(5,"h4"),r.Fc(6,"Contenuto"),r.Ub(),r.Qb(7,"div",0),r.Vb(8,"h4"),r.Fc(9,"Metadati"),r.Ub(),r.Vb(10,"form",1),r.Vb(11,"mat-form-field",2),r.Vb(12,"mat-label",3),r.Fc(13,"Categoria"),r.Ub(),r.Vb(14,"mat-select",4),r.Dc(15,$,2,2,"mat-option",5),r.Ub(),r.Ub(),r.Vb(16,"mat-form-field",2),r.Vb(17,"mat-label"),r.Fc(18,"Titolo"),r.Ub(),r.Qb(19,"input",6),r.Ub(),r.Vb(20,"mat-form-field",2),r.Vb(21,"mat-label"),r.Fc(22,"Autore"),r.Ub(),r.Qb(23,"input",7),r.Ub(),r.Vb(24,"mat-form-field",2),r.Vb(25,"mat-label"),r.Fc(26,"Tempo stimato per la lettura"),r.Ub(),r.Qb(27,"input",8),r.Vb(28,"span",9),r.Fc(29,"minuti"),r.Ub(),r.Ub(),r.Qb(30,"div",10),r.Vb(31,"input",11,12),r.cc("change",(function(e){return n.uploadCover(e)})),r.Ub(),r.Vb(33,"button",13),r.cc("click",(function(){return r.uc(e),r.sc(32).click()})),r.Fc(34," Carica copertina "),r.Ub(),r.Vb(35,"p",14),r.Fc(36,"File caricato: "),r.Vb(37,"i"),r.Fc(38),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(39,"mat-card-actions"),r.Vb(40,"button",15),r.cc("click",(function(){return n.save()})),r.Fc(41," Salva articolo "),r.Ub(),r.Vb(42,"button",16),r.cc("click",(function(){return n.delete()})),r.Fc(43," Cancella articolo "),r.Ub(),r.Ub(),r.Ub()}2&e&&(r.Db(10),r.mc("formGroup",n.metadata),r.Db(5),r.mc("ngForOf",n.categories),r.Db(23),r.Gc(n.metadata.value.image||"nessuno"),r.Db(2),r.mc("disabled",n.metadata.invalid))},directives:[p.a,p.e,p.h,p.d,z.v,z.p,z.i,W.b,W.f,Q.a,z.o,z.g,i.l,G.a,z.b,z.r,W.h,u.b,p.b,K.i],styles:["mat-card[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}h4[_ngcontent-%COMP%]{font-weight:500;flex:100%}mat-card-actions[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{margin-left:20px}.form-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.input[_ngcontent-%COMP%]{margin-right:10%;width:20%;min-width:180px;margin-bottom:20px}.break[_ngcontent-%COMP%]{flex-basis:100%;height:0}.file-text[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();const Z=[{path:"",component:s,children:[{path:"",component:h},{path:"editor",component:A},{path:"editor/new",component:J},{path:"editor/:articleID",component:J}]}];let X=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(n){return new(n||e)},imports:[[o.j.forChild(Z)],o.j]}),e})();var Y=t("vrzs");let ee=(()=>{class e{}return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(n){return new(n||e)},imports:[[i.c,X,c.c,z.k,z.s,Y.a]]}),e})()},pkNS:function(module,exports,__webpack_require__){var factory;window,factory=function(){return function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,(function(n){return e[n]}).bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s="./src/Hyperlink.js")}({"./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css":function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".ce-inline-tool-hyperlink-wrapper {\\r\\n    outline: none;\\r\\n    border: 0;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    margin: 0;\\r\\n    font-size: 13px;\\r\\n    padding: 10px;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n    display: none;\\r\\n    font-weight: 500;\\r\\n    border-top: 1px solid rgba(201,201,204,.48);\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink-wrapper.ce-inline-tool-hyperlink-wrapper--showed {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--input,\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    border: 1px solid rgba(201,201,204,.48);\\r\\n    -webkit-box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    box-shadow: inset 0 1px 2px 0 rgba(35,44,72,.06);\\r\\n    border-radius: 5px;\\r\\n    padding: 5px 8px;\\r\\n    margin-bottom: 10px;\\r\\n    outline: none;\\r\\n    width: 100%;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--select-target,\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    width: 48%;\\r\\n    display: inline-block;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-target {\\r\\n    margin-right: 2%;\\r\\n}\\r\\n.ce-inline-tool-hyperlink--select-rel {\\r\\n    margin-left: 2%;\\r\\n}\\r\\n\\r\\n.ce-inline-tool-hyperlink--button {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    background-color: #34c38f;\\r\\n    color: #fff;\\r\\n    padding: 7px 0;\\r\\n    border: none;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    font-size: 16px;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n", ""]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?./node_modules/css-loader/dist/cjs.js')},"./node_modules/css-loader/dist/runtime/api.js":function(module,exports,__webpack_require__){"use strict";eval('\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return "@media ".concat(item[2], " {").concat(content, "}");\n      }\n\n      return content;\n    }).join(\'\');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \'string\') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \'\']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || \'\'; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === \'function\') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return "/*# sourceURL=".concat(cssMapping.sourceRoot || \'\').concat(source, " */");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n  }\n\n  return [content].join(\'\\n\');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);\n  return "/*# ".concat(data, " */");\n}\n\n//# sourceURL=webpack://Hyperlink/./node_modules/css-loader/dist/runtime/api.js?')},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(module,exports,__webpack_require__){"use strict";eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://Hyperlink/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?")},"./src/Hyperlink.css":function(module,exports,__webpack_require__){eval('var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");\n            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./Hyperlink.css */ "./node_modules/css-loader/dist/cjs.js!./src/Hyperlink.css");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === \'string\') {\n              content = [[module.i, content, \'\']];\n            }\n\nvar options = {};\n\noptions.insert = "head";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n//# sourceURL=webpack://Hyperlink/./src/Hyperlink.css?')},"./src/Hyperlink.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Hyperlink; });\n/* harmony import */ var _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SelectionUtils */ \"./src/SelectionUtils.js\");\n/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Hyperlink.css */ \"./src/Hyperlink.css\");\n/* harmony import */ var _Hyperlink_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Hyperlink_css__WEBPACK_IMPORTED_MODULE_1__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Hyperlink = /*#__PURE__*/function () {\n  function Hyperlink(_ref) {\n    var data = _ref.data,\n        config = _ref.config,\n        api = _ref.api,\n        readOnly = _ref.readOnly;\n\n    _classCallCheck(this, Hyperlink);\n\n    this.toolbar = api.toolbar;\n    this.inlineToolbar = api.inlineToolbar;\n    this.tooltip = api.tooltip;\n    this.i18n = api.i18n;\n    this.config = config;\n    this.selection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.commandLink = 'createLink';\n    this.commandUnlink = 'unlink';\n    this.CSS = {\n      wrapper: 'ce-inline-tool-hyperlink-wrapper',\n      wrapperShowed: 'ce-inline-tool-hyperlink-wrapper--showed',\n      button: 'ce-inline-tool',\n      buttonActive: 'ce-inline-tool--active',\n      buttonModifier: 'ce-inline-tool--link',\n      buttonUnlink: 'ce-inline-tool--unlink',\n      input: 'ce-inline-tool-hyperlink--input',\n      selectTarget: 'ce-inline-tool-hyperlink--select-target',\n      selectRel: 'ce-inline-tool-hyperlink--select-rel',\n      buttonSave: 'ce-inline-tool-hyperlink--button'\n    };\n    this.targetAttributes = this.config.availableTargets || ['_blank', // Opens the linked document in a new window or tab\n    '_self', // Opens the linked document in the same frame as it was clicked (this is default)\n    '_parent', // Opens the linked document in the parent frame\n    '_top' // Opens the linked document in the full body of the window\n    ];\n    this.relAttributes = this.config.availableRels || ['alternate', //Provides a link to an alternate representation of the document (i.e. print page, translated or mirror)\n    'author', //Provides a link to the author of the document\n    'bookmark', //Permanent URL used for bookmarking\n    'external', //Indicates that the referenced document is not part of the same site as the current document\n    'help', //Provides a link to a help document\n    'license', //Provides a link to licensing information for the document\n    'next', //Provides a link to the next document in the series\n    'nofollow', //Links to an unendorsed document, like a paid link. (\"nofollow\" is used by Google, to specify that the Google search spider should not follow that link)\n    'noreferrer', //Requires that the browser should not send an HTTP referer header if the user follows the hyperlink\n    'noopener', //Requires that any browsing context created by following the hyperlink must not have an opener browsing context\n    'prev', //The previous document in a selection\n    'search', //Links to a search tool for the document\n    'tag' //A tag (keyword) for the current document\n    ];\n    this.nodes = {\n      button: null,\n      wrapper: null,\n      input: null,\n      selectTarget: null,\n      selectRel: null,\n      buttonSave: null\n    };\n    this.inputOpened = false;\n  }\n\n  _createClass(Hyperlink, [{\n    key: \"render\",\n    value: function render() {\n      this.nodes.button = document.createElement('button');\n      this.nodes.button.type = 'button';\n      this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n      this.nodes.button.appendChild(this.iconSvg('link', 14, 10));\n      this.nodes.button.appendChild(this.iconSvg('unlink', 15, 11));\n      return this.nodes.button;\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this = this;\n\n      this.nodes.wrapper = document.createElement('div');\n      this.nodes.wrapper.classList.add(this.CSS.wrapper); // Input\n\n      this.nodes.input = document.createElement('input');\n      this.nodes.input.placeholder = 'https://...';\n      this.nodes.input.classList.add(this.CSS.input);\n      var i; // Target\n\n      this.nodes.selectTarget = document.createElement('select');\n      this.nodes.selectTarget.classList.add(this.CSS.selectTarget);\n      this.addOption(this.nodes.selectTarget, this.i18n.t('Select target'), '');\n\n      for (i = 0; i < this.targetAttributes.length; i++) {\n        this.addOption(this.nodes.selectTarget, this.targetAttributes[i], this.targetAttributes[i]);\n      }\n\n      if (!!this.config.target) {\n        this.nodes.selectTarget.value = this.config.target;\n      } // Rel\n\n\n      this.nodes.selectRel = document.createElement('select');\n      this.nodes.selectRel.classList.add(this.CSS.selectRel);\n      this.addOption(this.nodes.selectRel, this.i18n.t('Select rel'), '');\n\n      for (i = 0; i < this.relAttributes.length; i++) {\n        this.addOption(this.nodes.selectRel, this.relAttributes[i], this.relAttributes[i]);\n      }\n\n      if (!!this.config.rel) {\n        this.nodes.selectRel.value = this.config.rel;\n      } // Button\n\n\n      this.nodes.buttonSave = document.createElement('button');\n      this.nodes.buttonSave.type = 'button';\n      this.nodes.buttonSave.classList.add(this.CSS.buttonSave);\n      this.nodes.buttonSave.innerHTML = this.i18n.t('Save');\n      this.nodes.buttonSave.addEventListener('click', function (event) {\n        _this.savePressed(event);\n      }); // append\n\n      this.nodes.wrapper.appendChild(this.nodes.input);\n      this.nodes.wrapper.appendChild(this.nodes.selectTarget);\n      this.nodes.wrapper.appendChild(this.nodes.selectRel);\n      this.nodes.wrapper.appendChild(this.nodes.buttonSave);\n      return this.nodes.wrapper;\n    }\n  }, {\n    key: \"surround\",\n    value: function surround(range) {\n      if (range) {\n        if (!this.inputOpened) {\n          this.selection.setFakeBackground();\n          this.selection.save();\n        } else {\n          this.selection.restore();\n          this.selection.removeFakeBackground();\n        }\n\n        var parentAnchor = this.selection.findParentTag('A');\n\n        if (parentAnchor) {\n          this.selection.expandToTag(parentAnchor);\n          this.unlink();\n          this.closeActions();\n          this.checkState();\n          this.toolbar.close();\n          return;\n        }\n      }\n\n      this.toggleActions();\n    }\n  }, {\n    key: \"checkState\",\n    value: function checkState() {\n      var selection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var anchorTag = this.selection.findParentTag('A');\n\n      if (anchorTag) {\n        this.nodes.button.classList.add(this.CSS.buttonUnlink);\n        this.nodes.button.classList.add(this.CSS.buttonActive);\n        this.openActions();\n        var hrefAttr = anchorTag.getAttribute('href');\n        var targetAttr = anchorTag.getAttribute('target');\n        var relAttr = anchorTag.getAttribute('rel');\n        this.nodes.input.value = !!hrefAttr ? hrefAttr : '';\n        this.nodes.selectTarget.value = !!targetAttr ? targetAttr : '';\n        this.nodes.selectRel.value = !!relAttr ? relAttr : '';\n        this.selection.save();\n      } else {\n        this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n        this.nodes.button.classList.remove(this.CSS.buttonActive);\n      }\n\n      return !!anchorTag;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.closeActions();\n    }\n  }, {\n    key: \"toggleActions\",\n    value: function toggleActions() {\n      if (!this.inputOpened) {\n        this.openActions(true);\n      } else {\n        this.closeActions(false);\n      }\n    }\n  }, {\n    key: \"openActions\",\n    value: function openActions() {\n      var needFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.nodes.wrapper.classList.add(this.CSS.wrapperShowed);\n\n      if (needFocus) {\n        this.nodes.input.focus();\n      }\n\n      this.inputOpened = true;\n    }\n  }, {\n    key: \"closeActions\",\n    value: function closeActions() {\n      var clearSavedSelection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.selection.isFakeBackgroundEnabled) {\n        var currentSelection = new _SelectionUtils__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        currentSelection.save();\n        this.selection.restore();\n        this.selection.removeFakeBackground();\n        currentSelection.restore();\n      }\n\n      this.nodes.wrapper.classList.remove(this.CSS.wrapperShowed);\n      this.nodes.input.value = '';\n      this.nodes.selectTarget.value = '';\n      this.nodes.selectRel.value = '';\n\n      if (clearSavedSelection) {\n        this.selection.clearSaved();\n      }\n\n      this.inputOpened = false;\n    }\n  }, {\n    key: \"savePressed\",\n    value: function savePressed(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n      var value = this.nodes.input.value || '';\n      var target = this.nodes.selectTarget.value || '';\n      var rel = this.nodes.selectRel.value || '';\n\n      if (!value.trim()) {\n        this.selection.restore();\n        this.unlink();\n        event.preventDefault();\n        this.closeActions();\n      } // if (!this.validateURL(value)) {\n      //     this.tooltip.show(this.nodes.input, 'Pasted link is not valid.', {\n      //         placement: 'top',\n      //     });\n      //     setTimeout(() => {\n      //         this.tooltip.hide();\n      //     }, 1000);\n      //     return;\n      // }\n\n\n      value = this.prepareLink(value);\n      this.selection.restore();\n      this.selection.removeFakeBackground();\n      this.insertLink(value, target, rel);\n      this.selection.collapseToEnd();\n      this.inlineToolbar.close();\n    }\n  }, {\n    key: \"validateURL\",\n    value: function validateURL(str) {\n      var pattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n      '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\n\n      return !!pattern.test(str);\n    }\n  }, {\n    key: \"prepareLink\",\n    value: function prepareLink(link) {\n      link = link.trim();\n      link = this.addProtocol(link);\n      return link;\n    }\n  }, {\n    key: \"addProtocol\",\n    value: function addProtocol(link) {\n      if (/^(\\w+):(\\/\\/)?/.test(link)) {\n        return link;\n      }\n\n      var isInternal = /^\\/[^/\\s]/.test(link),\n          isAnchor = link.substring(0, 1) === '#',\n          isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);\n\n      if (!isInternal && !isAnchor && !isProtocolRelative) {\n        link = 'http://' + link;\n      }\n\n      return link;\n    }\n  }, {\n    key: \"insertLink\",\n    value: function insertLink(link) {\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var rel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var anchorTag = this.selection.findParentTag('A');\n\n      if (anchorTag) {\n        this.selection.expandToTag(anchorTag);\n      } else {\n        document.execCommand(this.commandLink, false, link);\n        anchorTag = this.selection.findParentTag('A');\n      }\n\n      if (anchorTag) {\n        if (!!target) {\n          anchorTag['target'] = target;\n        } else {\n          anchorTag.removeAttribute('target');\n        }\n\n        if (!!rel) {\n          anchorTag['rel'] = rel;\n        } else {\n          anchorTag.removeAttribute('rel');\n        }\n      }\n    }\n  }, {\n    key: \"unlink\",\n    value: function unlink() {\n      document.execCommand(this.commandUnlink);\n    }\n  }, {\n    key: \"iconSvg\",\n    value: function iconSvg(name) {\n      var width = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 14;\n      var height = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 14;\n      var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      icon.classList.add('icon', 'icon--' + name);\n      icon.setAttribute('width', width + 'px');\n      icon.setAttribute('height', height + 'px');\n      icon.innerHTML = \"<use xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xlink:href=\\\"#\".concat(name, \"\\\"></use>\");\n      return icon;\n    }\n  }, {\n    key: \"addOption\",\n    value: function addOption(element, text) {\n      var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var option = document.createElement('option');\n      option.text = text;\n      option.value = value;\n      element.add(option);\n    }\n  }, {\n    key: \"shortcut\",\n    get: function get() {\n      return this.config.shortcut || 'CMD+L';\n    }\n  }, {\n    key: \"title\",\n    get: function get() {\n      return 'Hyperlink';\n    }\n  }], [{\n    key: \"isInline\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"sanitize\",\n    get: function get() {\n      return {\n        a: {\n          href: true,\n          target: true,\n          rel: true\n        }\n      };\n    }\n  }]);\n\n  return Hyperlink;\n}();\n\n\n\n//# sourceURL=webpack://Hyperlink/./src/Hyperlink.js?")},"./src/SelectionUtils.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SelectionUtils; });\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SelectionUtils = /*#__PURE__*/function () {\n  function SelectionUtils() {\n    _classCallCheck(this, SelectionUtils);\n\n    this.selection = null;\n    this.savedSelectionRange = null;\n    this.isFakeBackgroundEnabled = false;\n    this.commandBackground = \'backColor\';\n    this.commandRemoveFormat = \'removeFormat\';\n  }\n\n  _createClass(SelectionUtils, [{\n    key: "isElement",\n    value: function isElement(node) {\n      return node && _typeof(node) === \'object\' && node.nodeType && node.nodeType === Node.ELEMENT_NODE;\n    }\n  }, {\n    key: "isContentEditable",\n    value: function isContentEditable(element) {\n      return element.contentEditable === \'true\';\n    }\n  }, {\n    key: "isNativeInput",\n    value: function isNativeInput(target) {\n      var nativeInputs = [\'INPUT\', \'TEXTAREA\'];\n      return target && target.tagName ? nativeInputs.includes(target.tagName) : false;\n    }\n  }, {\n    key: "canSetCaret",\n    value: function canSetCaret(target) {\n      var result = true;\n\n      if (this.isNativeInput(target)) {\n        switch (target.type) {\n          case \'file\':\n          case \'checkbox\':\n          case \'radio\':\n          case \'hidden\':\n          case \'submit\':\n          case \'button\':\n          case \'image\':\n          case \'reset\':\n            result = false;\n            break;\n\n          default:\n        }\n      } else {\n        result = this.isContentEditable(target);\n      }\n\n      return result;\n    }\n  }, {\n    key: "CSS",\n    value: function CSS() {\n      return {\n        editorWrapper: \'codex-editor\',\n        editorZone: \'codex-editor__redactor\'\n      };\n    }\n  }, {\n    key: "anchorNode",\n    value: function anchorNode() {\n      var selection = window.getSelection();\n      return selection ? selection.anchorNode : null;\n    }\n  }, {\n    key: "anchorElement",\n    value: function anchorElement() {\n      var selection = window.getSelection();\n\n      if (!selection) {\n        return null;\n      }\n\n      var anchorNode = selection.anchorNode;\n\n      if (!anchorNode) {\n        return null;\n      }\n\n      if (!this.isElement(anchorNode)) {\n        return anchorNode.parentElement;\n      } else {\n        return anchorNode;\n      }\n    }\n  }, {\n    key: "anchorOffset",\n    value: function anchorOffset() {\n      var selection = window.getSelection();\n      return selection ? selection.anchorOffset : null;\n    }\n  }, {\n    key: "isCollapsed",\n    value: function isCollapsed() {\n      var selection = window.getSelection();\n      return selection ? selection.isCollapsed : null;\n    }\n  }, {\n    key: "isAtEditor",\n    value: function isAtEditor() {\n      var selection = SelectionUtils.get();\n      var selectedNode = selection.anchorNode || selection.focusNode;\n\n      if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n        selectedNode = selectedNode.parentNode;\n      }\n\n      var editorZone = null;\n\n      if (selectedNode) {\n        editorZone = selectedNode.closest(".".concat(SelectionUtils.CSS.editorZone));\n      }\n\n      return editorZone && editorZone.nodeType === Node.ELEMENT_NODE;\n    }\n  }, {\n    key: "isSelectionExists",\n    value: function isSelectionExists() {\n      var selection = SelectionUtils.get();\n      return !!selection.anchorNode;\n    }\n  }, {\n    key: "get",\n    value: function get() {\n      return window.getSelection();\n    }\n  }, {\n    key: "setCursor",\n    value: function setCursor(element) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var range = document.createRange();\n      var selection = window.getSelection();\n\n      if (this.isNativeInput(element)) {\n        if (!this.canSetCaret(element)) {\n          return;\n        }\n\n        element.focus();\n        element.selectionStart = element.selectionEnd = offset;\n        return element.getBoundingClientRect();\n      }\n\n      range.setStart(element, offset);\n      range.setEnd(element, offset);\n      selection.removeAllRanges();\n      selection.addRange(range);\n      return range.getBoundingClientRect();\n    }\n  }, {\n    key: "removeFakeBackground",\n    value: function removeFakeBackground() {\n      if (!this.isFakeBackgroundEnabled) {\n        return;\n      }\n\n      this.isFakeBackgroundEnabled = false;\n      document.execCommand(this.commandRemoveFormat);\n    }\n  }, {\n    key: "setFakeBackground",\n    value: function setFakeBackground() {\n      document.execCommand(this.commandBackground, false, \'#a8d6ff\');\n      this.isFakeBackgroundEnabled = true;\n    }\n  }, {\n    key: "save",\n    value: function save() {\n      this.savedSelectionRange = SelectionUtils.range;\n    }\n  }, {\n    key: "restore",\n    value: function restore() {\n      if (!this.savedSelectionRange) {\n        return;\n      }\n\n      var sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(this.savedSelectionRange);\n    }\n  }, {\n    key: "clearSaved",\n    value: function clearSaved() {\n      this.savedSelectionRange = null;\n    }\n  }, {\n    key: "collapseToEnd",\n    value: function collapseToEnd() {\n      var sel = window.getSelection();\n      var range = document.createRange();\n      range.selectNodeContents(sel.focusNode);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n    }\n  }, {\n    key: "findParentTag",\n    value: function findParentTag(tagName) {\n      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var searchDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n      var selection = window.getSelection();\n      var parentTag = null;\n\n      if (!selection || !selection.anchorNode || !selection.focusNode) {\n        return null;\n      }\n\n      var boundNodes = [selection.anchorNode, selection.focusNode];\n      boundNodes.forEach(function (parent) {\n        var searchDepthIterable = searchDepth;\n\n        while (searchDepthIterable > 0 && parent.parentNode) {\n          if (parent.tagName === tagName) {\n            parentTag = parent;\n\n            if (className && parent.classList && !parent.classList.contains(className)) {\n              parentTag = null;\n            }\n\n            if (parentTag) {\n              break;\n            }\n          }\n\n          parent = parent.parentNode;\n          searchDepthIterable--;\n        }\n      });\n      return parentTag;\n    }\n  }, {\n    key: "expandToTag",\n    value: function expandToTag(element) {\n      var selection = window.getSelection();\n      selection.removeAllRanges();\n      var range = document.createRange();\n      range.selectNodeContents(element);\n      selection.addRange(range);\n    }\n  }], [{\n    key: "range",\n    get: function get() {\n      var selection = window.getSelection();\n      return selection && selection.rangeCount ? selection.getRangeAt(0) : null;\n    }\n  }, {\n    key: "rect",\n    get: function get() {\n      var sel = document.selection,\n          range;\n      var rect = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n\n      if (sel && sel.type !== \'Control\') {\n        range = sel.createRange();\n        rect.x = range.boundingLeft;\n        rect.y = range.boundingTop;\n        rect.width = range.boundingWidth;\n        rect.height = range.boundingHeight;\n        return rect;\n      }\n\n      if (!window.getSelection) {\n        return rect;\n      }\n\n      sel = window.getSelection();\n\n      if (sel.rangeCount === null || isNaN(sel.rangeCount)) {\n        return rect;\n      }\n\n      if (sel.rangeCount === 0) {\n        return rect;\n      }\n\n      range = sel.getRangeAt(0).cloneRange();\n\n      if (range.getBoundingClientRect) {\n        rect = range.getBoundingClientRect();\n      }\n\n      if (rect.x === 0 && rect.y === 0) {\n        var span = document.createElement(\'span\');\n\n        if (span.getBoundingClientRect) {\n          span.appendChild(document.createTextNode("\\u200B"));\n          range.insertNode(span);\n          rect = span.getBoundingClientRect();\n          var spanParent = span.parentNode;\n          spanParent.removeChild(span);\n          spanParent.normalize();\n        }\n      }\n\n      return rect;\n    }\n  }, {\n    key: "text",\n    get: function get() {\n      return window.getSelection ? window.getSelection().toString() : \'\';\n    }\n  }]);\n\n  return SelectionUtils;\n}();\n\n\n\n//# sourceURL=webpack://Hyperlink/./src/SelectionUtils.js?')}}).default},module.exports=factory()}}]);