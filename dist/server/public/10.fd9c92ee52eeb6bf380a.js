(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"57DE":function(t,e,n){"use strict";n.r(e),n.d(e,"BarAdminModule",(function(){return at}));var a,c=n("2kYt"),o=n("sEIs"),i=n("yDe4"),s=n("D57K"),r=n("b+US"),l=n("9EWH"),b=n("EM62");!function(t){class e{}e.type="[Orders Socket] Open",t.Open=e;class n{}n.type="[Orders Socket] Close",t.Close=n}(a||(a={}));let m=(()=>{let t=class{constructor(t){this.snacks=t}listen(t){this.connection=this.snacks.socket$().subscribe((e=>e.orders?t.setState({orders:e.orders,classes:e.classes}):e.change?t.setState(Object(l.a)(t.getState(),(t=>{if("insert"===e.operationType)t.orders.push(e.change),t.classes.includes(e.change.classID)||(t.classes.push(e.change.classID),t.classes.sort());else{const n=t.orders.findIndex((t=>t.id===e.change.id));t.orders[n]=e.change}}))):void 0))}closeConnection(){this.connection.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(b.Zb(r.a))},t.\u0275prov=b.Lb({token:t,factory:t.\u0275fac}),Object(s.__decorate)([Object(i.a)(a.Open),Object(s.__metadata)("design:type",Function),Object(s.__metadata)("design:paramtypes",[Object]),Object(s.__metadata)("design:returntype",void 0)],t.prototype,"listen",null),Object(s.__decorate)([Object(i.a)(a.Close),Object(s.__metadata)("design:type",Function),Object(s.__metadata)("design:paramtypes",[]),Object(s.__metadata)("design:returntype",void 0)],t.prototype,"closeConnection",null),t=Object(s.__decorate)([Object(i.d)({name:"orders"})],t),t})();var d=n("3DyK");let u=(()=>{class t{constructor(t){this.store=t,this.links=[{link:".",title:"Home"},{link:"orders",title:"Ordini"},{link:"manage",title:"Prodotti"},{link:"classi",title:"Classi"}]}ngOnInit(){this.store.dispatch(new a.Open)}ngOnDestroy(){this.store.dispatch(new a.Close)}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(i.e))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-bar-admin"]],decls:3,vars:1,consts:[[3,"links"]],template:function(t,e){1&t&&(b.Vb(0,"csl-dashboard-model",0),b.Vb(1,"span"),b.Fc(2,"Bar"),b.Ub(),b.Ub()),2&t&&b.mc("links",e.links)},directives:[d.a],styles:[""]}),t})();var p=n("jxfh"),f=n("9ufM"),h=n("SKMG"),g=n("PBFl");let y=(()=>{class t{constructor(t,e){this.dialog=t,this.auth=e}ngOnInit(){}signOut(){this.dialog.open({title:"Sei sicuro di voler uscire?",text:"Ci\xf2 che stavi facendo potrebbe non essere salvato",color:"warn",answer:"S\xec, esci"}).subscribe((t=>{this.auth.signOut()}))}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(p.a),b.Pb(f.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-bar-home"]],decls:10,vars:3,consts:[[3,"user"],["header",""],["activities-label",""],["activities",""],["mat-raised-button","","color","warn","logout-btn","",3,"click"]],template:function(t,e){1&t&&(b.Vb(0,"csl-dashboard-home",0),b.hc(1,"async"),b.Vb(2,"span",1),b.Fc(3,"I vostri dati"),b.Ub(),b.Vb(4,"span",2),b.Fc(5,"Le vostre attivit\xe0"),b.Ub(),b.Vb(6,"span",3),b.Fc(7,"Questa sezione \xe8 ancora vuota! Tornate pi\xf9 tardi..."),b.Ub(),b.Vb(8,"button",4),b.cc("click",(function(){return e.signOut()})),b.Fc(9,"Esci"),b.Ub(),b.Ub()),2&t&&b.mc("user",b.ic(1,1,e.auth.user$))},directives:[h.a,g.b],pipes:[c.b],styles:[".profileimg[_ngcontent-%COMP%]{height:100%;border-radius:50px}h1[_ngcontent-%COMP%]{font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:20px}button[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var D=n("Meci"),O=n("FlRo");function v(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"ID"),b.Ub())}function k(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(t.id)}}function U(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Nome"),b.Ub())}function C(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(t.name)}}function V(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Descrizione"),b.Ub())}function w(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(t.description)}}function F(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Prezzo"),b.Ub())}function _(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.hc(2,"currency"),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(b.jc(2,1,t.price,"EUR"))}}function P(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Q. massima"),b.Ub())}function S(t,e){if(1&t&&(b.Vb(0,"mat-cell"),b.Fc(1),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.Gc(t.maxQuantity)}}function I(t,e){1&t&&(b.Vb(0,"mat-header-cell"),b.Fc(1,"Gestisci"),b.Ub())}function j(t,e){if(1&t){const t=b.Wb();b.Vb(0,"mat-cell"),b.Vb(1,"button",12),b.cc("click",(function(){b.uc(t);const n=e.$implicit;return b.gc().deleteProduct(n.id)})),b.Fc(2," Elimina "),b.Ub(),b.Ub()}}function x(t,e){1&t&&b.Qb(0,"mat-header-row")}function M(t,e){1&t&&b.Qb(0,"mat-row")}const Q=function(){return["create"]};let E=(()=>{class t{constructor(t,e,n){this.snacksService=t,this.dialog=e,this.toastr=n,this.displayedColumns=["id","name","description","price","maxQuantity","options"]}ngOnInit(){this.snacks=this.snacksService.getSnacks()}deleteProduct(t){this.dialog.open({title:"Sei sicuro?",text:"Una volta eliminato questo prodotto, non sar\xe0 pi\xf9 possibile recuperarlo",color:"warn",answer:"S\xec, elimina il prodotto"}).subscribe((e=>{this.snacksService.deleteSnack(t).subscribe((t=>{this.toastr.show({message:"Prodotto eliminato",color:"accent",action:"Chiudi",duration:5e3}),this.snacks=this.snacksService.getSnacks()}))}))}updateQuantity(t,e){this.dialog.open({title:"Sei sicuro?",text:"La nuova quantit\xe0 disponibile sar\xe0 "+e,color:"warn",answer:"S\xec, modifica il prodotto"}).subscribe((n=>{this.snacksService.updateQuantity(t,e).subscribe((t=>{this.toastr.show({message:"Prodotto modificato",color:"primary",action:"Chiudi",duration:5e3}),this.snacks=this.snacksService.getSnacks()}))}))}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(r.a),b.Pb(p.a),b.Pb(p.b))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-manage"]],decls:30,vars:7,consts:[[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","maxQuantity"],["matColumnDef","options"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(b.Vb(0,"mat-card"),b.Vb(1,"mat-card-header"),b.Vb(2,"mat-card-title"),b.Fc(3,"Snack"),b.Ub(),b.Ub(),b.Vb(4,"mat-card-content"),b.Vb(5,"mat-table",0),b.hc(6,"async"),b.Tb(7,1),b.Dc(8,v,2,0,"mat-header-cell",2),b.Dc(9,k,2,1,"mat-cell",3),b.Sb(),b.Tb(10,4),b.Dc(11,U,2,0,"mat-header-cell",2),b.Dc(12,C,2,1,"mat-cell",3),b.Sb(),b.Tb(13,5),b.Dc(14,V,2,0,"mat-header-cell",2),b.Dc(15,w,2,1,"mat-cell",3),b.Sb(),b.Tb(16,6),b.Dc(17,F,2,0,"mat-header-cell",2),b.Dc(18,_,3,4,"mat-cell",3),b.Sb(),b.Tb(19,7),b.Dc(20,P,2,0,"mat-header-cell",2),b.Dc(21,S,2,1,"mat-cell",3),b.Sb(),b.Tb(22,8),b.Dc(23,I,2,0,"mat-header-cell",2),b.Dc(24,j,3,0,"mat-cell",3),b.Sb(),b.Dc(25,x,1,0,"mat-header-row",9),b.Dc(26,M,1,0,"mat-row",10),b.Ub(),b.Ub(),b.Vb(27,"mat-card-actions"),b.Vb(28,"a",11),b.Fc(29," Aggiungi un prodotto "),b.Ub(),b.Ub(),b.Ub()),2&t&&(b.Db(5),b.mc("dataSource",b.ic(6,4,e.snacks)),b.Db(20),b.mc("matHeaderRowDef",e.displayedColumns),b.Db(1),b.mc("matRowDefColumns",e.displayedColumns),b.Db(2),b.mc("routerLink",b.oc(6,Q)))},directives:[D.a,D.e,D.h,D.d,O.j,O.c,O.e,O.b,O.g,O.i,D.b,g.a,o.i,O.d,O.a,g.b,O.f,O.h],pipes:[c.b,c.d],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-right:10px}mat-card-actions[_ngcontent-%COMP%]{margin-left:20px}"]}),t})();var $=n("nIj0"),N=n("29Wa"),G=n("Cd2c");let q=(()=>{class t{constructor(t,e,n,a,c){this.fb=t,this.router=e,this.dialog=n,this.toastr=a,this.snacks=c,this.snackForm=this.fb.group({name:["",$.u.required],description:["",$.u.required],price:["",$.u.required],maxQuantity:["",$.u.required]})}ngOnInit(){}onSubmit(){this.dialog.open({title:"Confermi il prodotto?",answer:"S\xec, conferma",color:"primary",text:"Non potrai pi\xf9 modificare questo prodotto, ma solo eliminarlo"}).subscribe((t=>{const e=this.snackForm.value,{name:n}=e,a=n.toLowerCase().replace(/ /g,"-");this.snacks.createSnack(Object.assign(Object.assign({},e),{id:a})).subscribe((t=>{this.toastr.show({message:"Prodotto creato con successo",color:"success",action:"Chiudi",duration:5e3}),this.router.navigate(["bar-admin","manage"])}))}))}}return t.\u0275fac=function(e){return new(e||t)(b.Pb($.d),b.Pb(o.f),b.Pb(p.a),b.Pb(p.b),b.Pb(r.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-create-snack"]],decls:29,vars:2,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"textinput"],["matInput","","type","text","formControlName","name"],["align","start"],["matInput","","type","text","formControlName","description"],["matPrefix",""],["matInput","","type","number","formControlName","price"],["matInput","","type","number","formControlName","maxQuantity"],[1,"break"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,e){1&t&&(b.Vb(0,"form",0),b.cc("ngSubmit",(function(){return e.onSubmit()})),b.Vb(1,"h4"),b.Fc(2,"Informazioni principali"),b.Ub(),b.Vb(3,"mat-form-field",1),b.Vb(4,"mat-label"),b.Fc(5,"Nome del prodotto"),b.Ub(),b.Qb(6,"input",2),b.Vb(7,"mat-hint",3),b.Vb(8,"strong"),b.Fc(9,"Assicuratevi di non aver mai usato questo nome"),b.Ub(),b.Ub(),b.Ub(),b.Vb(10,"mat-form-field",1),b.Vb(11,"mat-label"),b.Fc(12,"Descrizione"),b.Ub(),b.Qb(13,"input",4),b.Ub(),b.Vb(14,"mat-form-field",1),b.Vb(15,"span",5),b.Fc(16,"\u20ac \xa0"),b.Ub(),b.Vb(17,"mat-label"),b.Fc(18,"Prezzo"),b.Ub(),b.Qb(19,"input",6),b.Ub(),b.Vb(20,"h4"),b.Fc(21,"Informazioni aggiuntive"),b.Ub(),b.Vb(22,"mat-form-field",1),b.Vb(23,"mat-label"),b.Fc(24,"Massima quantit\xe0 ordinabile"),b.Ub(),b.Qb(25,"input",7),b.Ub(),b.Qb(26,"div",8),b.Vb(27,"button",9),b.Fc(28," Crea prodotto "),b.Ub(),b.Ub()),2&t&&(b.mc("formGroup",e.snackForm),b.Db(27),b.mc("disabled",!e.snackForm.valid))},directives:[$.v,$.p,$.i,N.b,N.f,G.a,$.b,$.o,$.g,N.e,N.g,$.r,g.b],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.break[_ngcontent-%COMP%]{flex-basis:100%;height:0}h4[_ngcontent-%COMP%]{font-weight:500;flex:100%}.textinput[_ngcontent-%COMP%]{margin-right:10%;width:20%;min-width:180px}.textinput[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-bottom:20px}"]}),t})();var T=n("IdLP"),z=n("Rjd2");const L=function(t){return[t]};function J(t,e){if(1&t&&(b.Tb(0),b.Vb(1,"mat-card",4),b.Vb(2,"mat-card-header"),b.Vb(3,"mat-card-title"),b.Fc(4),b.Ub(),b.Ub(),b.Ub(),b.Sb()),2&t){const t=e.$implicit;b.Db(1),b.mc("routerLink",b.pc(2,L,t)),b.Db(3),b.Gc(t)}}function R(t,e){if(1&t&&(b.Vb(0,"div",2),b.Dc(1,J,5,4,"ng-container",3),b.Ub()),2&t){const t=e.ngIf;b.Db(1),b.mc("ngForOf",t)}}function H(t,e){1&t&&(b.Vb(0,"csl-alert",5),b.Fc(1,"Non ci sono ancora ordini!"),b.Ub())}let B=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Jb({type:t,selectors:[["app-snack-orders"]],decls:4,vars:4,consts:[["class","cards",4,"ngIf","ngIfElse"],["noOrders",""],[1,"cards"],[4,"ngFor","ngForOf"],[3,"routerLink"],["color","primary"]],template:function(t,e){if(1&t&&(b.Dc(0,R,2,1,"div",0),b.hc(1,"async"),b.Dc(2,H,2,0,"ng-template",null,1,b.Ec)),2&t){const t=b.sc(3);b.mc("ngIf",b.ic(1,2,e.orders$).classes.length>0)("ngIfElse",t)}},directives:[c.m,c.l,D.a,o.g,D.e,D.h,z.a],pipes:[c.b],styles:[".cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-card[_ngcontent-%COMP%]{cursor:pointer;margin-right:20px;outline:none}"]}),Object(s.__decorate)([Object(i.c)(m),Object(s.__metadata)("design:type",T.a)],t.prototype,"orders$",void 0),t})();var A=n("lu7F");function K(t,e){if(1&t&&(b.Tb(0),b.Vb(1,"mat-card"),b.Vb(2,"mat-card-header"),b.Vb(3,"mat-card-title"),b.Fc(4),b.Ub(),b.Ub(),b.Qb(5,"mat-card-content"),b.Ub(),b.Sb()),2&t){const t=b.gc();b.Db(4),b.Gc(t.classID)}}function W(t,e){1&t&&(b.Vb(0,"h1"),b.Fc(1,"Non ci sono ancora ordini oggi!"),b.Ub())}let Y=(()=>{class t{constructor(t){this.activated=t,this.displayedColumns=["name","products","quantity","state"],this.faCheck=A.b,this.faClock=A.c,this.classID=this.activated.snapshot.paramMap.get("classID")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(o.a))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-snack-single-class"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noOrders",""]],template:function(t,e){if(1&t&&(b.Dc(0,K,6,1,"ng-container",0),b.hc(1,"async"),b.Dc(2,W,2,0,"ng-template",null,1,b.Ec)),2&t){const t=b.sc(3);b.mc("ngIf",b.ic(1,2,e.orders$).orders)("ngIfElse",t)}},directives:[c.m,D.a,D.e,D.h,D.d],pipes:[c.b],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),Object(s.__decorate)([Object(i.c)(m),Object(s.__metadata)("design:type",T.a)],t.prototype,"orders$",void 0),t})();var Z=n("r8jD"),X=n("8BM3");const tt=[{path:"",component:u,children:[{path:"",component:y},{path:"orders",component:B},{path:"orders/:classID",component:Y},{path:"classi",component:Z.a},{path:"classi/:classID",component:X.a},{path:"manage",component:E},{path:"manage/create",component:q}]}];let et=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(tt)],o.j]}),t})();var nt=n("PCNd");let at=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[c.c,et,$.s,$.k,p.c,nt.a,i.b.forFeature([m])]]}),t})()}}]);